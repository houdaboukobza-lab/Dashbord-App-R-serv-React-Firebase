{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar dayjs = require(\"dayjs\");\n\nvar DateUtil_1 = require(\"../utils/DateUtil\");\n\nvar Constant_1 = require(\"../common/Constant\");\n\nvar Picker_1 = require(\"./Picker\");\n\nvar RangePickerInput_1 = require(\"./RangePickerInput\");\n\nvar Calendar_1 = require(\"./Calendar\");\n\nvar FunctionUtil_1 = require(\"../utils/FunctionUtil\");\n\nvar RangeDatePicker =\n/** @class */\nfunction (_super) {\n  __extends(RangeDatePicker, _super);\n\n  function RangeDatePicker(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.handleDateChange = function (actions) {\n      return function (date) {\n        var _a = _this.props,\n            onChange = _a.onChange,\n            dateFormat = _a.dateFormat;\n        var _b = _this.state,\n            start = _b.start,\n            end = _b.end;\n        var startDate;\n        var endDate;\n        startDate = start;\n        endDate = end;\n\n        if (!start) {\n          startDate = date;\n        } else {\n          if (end) {\n            startDate = date;\n            endDate = undefined;\n          } else {\n            if (!DateUtil_1.isDayBefore(date, start)) {\n              endDate = date;\n            } else {\n              startDate = date;\n            }\n          }\n        }\n\n        FunctionUtil_1.ifExistCall(onChange, startDate, endDate);\n\n        _this.setState(__assign({}, _this.state, {\n          start: startDate,\n          end: endDate,\n          startValue: DateUtil_1.formatDate(startDate, dateFormat),\n          endValue: DateUtil_1.formatDate(endDate, dateFormat)\n        }), function () {\n          if (_this.state.start && _this.state.end) {\n            actions.hide();\n          }\n        });\n      };\n    };\n\n    _this.handleInputChange = function (fieldType, value) {\n      var _a;\n\n      var key = fieldType === RangePickerInput_1.FieldType.START ? 'startValue' : 'endValue';\n\n      _this.setState(__assign({}, _this.state, (_a = {}, _a[key] = value, _a)));\n    };\n\n    _this.handleMouseOver = function (date) {\n      _this.setState(__assign({}, _this.state, {\n        hoverDate: date\n      }));\n    };\n\n    _this.handleInputBlur = function (fieldType, value) {\n      var dateFormat = _this.props.dateFormat;\n      var _a = _this.state,\n          start = _a.start,\n          end = _a.end;\n      var parsedDate = dayjs(value, dateFormat);\n      var startDate = start;\n      var endDate = end;\n\n      if (parsedDate.isValid() && dateFormat.length === value.length) {\n        if (fieldType === RangePickerInput_1.FieldType.END) {\n          endDate = parsedDate;\n        } else if (fieldType === RangePickerInput_1.FieldType.START) {\n          startDate = parsedDate;\n        }\n      }\n\n      if (startDate && endDate) {\n        if (DateUtil_1.isDayBefore(endDate, startDate) || DateUtil_1.isDayAfter(startDate, endDate)) {\n          // Swapping Date\n          var temp = void 0;\n          temp = startDate;\n          startDate = endDate;\n          endDate = temp;\n        }\n      }\n\n      _this.setState(__assign({}, _this.state, {\n        start: startDate,\n        end: endDate,\n        startValue: DateUtil_1.formatDate(startDate, dateFormat),\n        endValue: DateUtil_1.formatDate(endDate, dateFormat)\n      }));\n    };\n\n    _this.handleCalendarText = function (date) {\n      var _a = _this.props,\n          startText = _a.startText,\n          endText = _a.endText,\n          customDayText = _a.customDayText;\n      var _b = _this.state,\n          start = _b.start,\n          end = _b.end;\n      if (DateUtil_1.isDayEqual(start, date)) return startText;\n      if (DateUtil_1.isDayEqual(end, date)) return endText;\n      FunctionUtil_1.ifExistCall(customDayText, date);\n      return '';\n    };\n\n    _this.handleCalendarClass = function (date) {\n      var customDayClass = _this.props.customDayClass;\n      var _a = _this.state,\n          start = _a.start,\n          end = _a.end,\n          hoverDate = _a.hoverDate;\n\n      if (start && !end && hoverDate) {\n        if (DateUtil_1.isDayRange(date, start, hoverDate)) {\n          return 'calendar__day--range';\n        }\n      }\n\n      FunctionUtil_1.ifExistCall(customDayClass, date);\n      return '';\n    };\n\n    _this.handleInputClear = function (fieldType) {\n      if (fieldType === RangePickerInput_1.FieldType.START) {\n        _this.setState(__assign({}, _this.state, {\n          start: undefined,\n          startValue: ''\n        }));\n      } else if (fieldType === RangePickerInput_1.FieldType.END) {\n        _this.setState(__assign({}, _this.state, {\n          end: undefined,\n          endValue: ''\n        }));\n      }\n    };\n\n    _this.renderRangePickerInput = function () {\n      var _a = _this.props,\n          startPlaceholder = _a.startPlaceholder,\n          endPlaceholder = _a.endPlaceholder,\n          readOnly = _a.readOnly,\n          disabled = _a.disabled,\n          clear = _a.clear,\n          onChange = _a.onChange;\n      var _b = _this.state,\n          startValue = _b.startValue,\n          endValue = _b.endValue;\n      return React.createElement(RangePickerInput_1.default, {\n        startPlaceholder: startPlaceholder,\n        readOnly: readOnly,\n        disabled: disabled,\n        clear: clear,\n        endPlaceholder: endPlaceholder,\n        startValue: startValue,\n        endValue: endValue,\n        onChange: _this.handleInputChange,\n        onBlur: _this.handleInputBlur,\n        onClear: _this.handleInputClear\n      });\n    };\n\n    _this.renderCalendar = function (actions) {\n      var _a = _this.props,\n          showMonthCnt = _a.showMonthCnt,\n          initialDate = _a.initialDate,\n          wrapper = _a.wrapper;\n      var _b = _this.state,\n          start = _b.start,\n          end = _b.end;\n      var component;\n      var calendar = React.createElement(Calendar_1.default, __assign({}, _this.props, {\n        base: start || initialDate,\n        startDay: start,\n        endDay: end,\n        showMonthCnt: showMonthCnt,\n        onChange: _this.handleDateChange(actions),\n        onMouseOver: _this.handleMouseOver,\n        customDayText: _this.handleCalendarText,\n        customDayClass: _this.handleCalendarClass\n      }));\n      component = calendar;\n\n      if (wrapper) {\n        component = wrapper(calendar);\n      }\n\n      return component;\n    };\n\n    var dateFormat = props.dateFormat,\n        initialStartDate = props.initialStartDate,\n        initialEndDate = props.initialEndDate;\n    var start = initialStartDate;\n    var end = initialEndDate;\n    _this.state = {\n      start: start,\n      end: end,\n      startValue: DateUtil_1.formatDate(start, dateFormat),\n      endValue: DateUtil_1.formatDate(end, dateFormat)\n    };\n    return _this;\n  }\n\n  RangeDatePicker.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        portal = _a.portal,\n        direction = _a.direction,\n        disabled = _a.disabled,\n        readOnly = _a.readOnly;\n    return React.createElement(Picker_1.default, {\n      portal: portal,\n      direction: direction,\n      readOnly: readOnly,\n      disabled: disabled,\n      renderTrigger: function () {\n        return _this.renderRangePickerInput();\n      },\n      renderContents: function (_a) {\n        var actions = _a.actions;\n        return _this.renderCalendar(actions);\n      }\n    });\n  };\n\n  RangeDatePicker.defaultProps = {\n    dateFormat: Constant_1.DatePickerDefaults.dateFormat,\n    portal: false,\n    initialDate: dayjs(),\n    showMonthCnt: 2,\n    startText: '',\n    endText: ''\n  };\n  return RangeDatePicker;\n}(React.Component);\n\nexports.default = RangeDatePicker;","map":{"version":3,"sources":["../../src/components/RangeDatePicker.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar dayjs = require(\"dayjs\");\nvar DateUtil_1 = require(\"../utils/DateUtil\");\nvar Constant_1 = require(\"../common/Constant\");\nvar Picker_1 = require(\"./Picker\");\nvar RangePickerInput_1 = require(\"./RangePickerInput\");\nvar Calendar_1 = require(\"./Calendar\");\nvar FunctionUtil_1 = require(\"../utils/FunctionUtil\");\nvar RangeDatePicker = /** @class */ (function (_super) {\n    __extends(RangeDatePicker, _super);\n    function RangeDatePicker(props) {\n        var _this = _super.call(this, props) || this;\n        _this.handleDateChange = function (actions) { return function (date) {\n            var _a = _this.props, onChange = _a.onChange, dateFormat = _a.dateFormat;\n            var _b = _this.state, start = _b.start, end = _b.end;\n            var startDate;\n            var endDate;\n            startDate = start;\n            endDate = end;\n            if (!start) {\n                startDate = date;\n            }\n            else {\n                if (end) {\n                    startDate = date;\n                    endDate = undefined;\n                }\n                else {\n                    if (!DateUtil_1.isDayBefore(date, start)) {\n                        endDate = date;\n                    }\n                    else {\n                        startDate = date;\n                    }\n                }\n            }\n            FunctionUtil_1.ifExistCall(onChange, startDate, endDate);\n            _this.setState(__assign({}, _this.state, { start: startDate, end: endDate, startValue: DateUtil_1.formatDate(startDate, dateFormat), endValue: DateUtil_1.formatDate(endDate, dateFormat) }), function () {\n                if (_this.state.start && _this.state.end) {\n                    actions.hide();\n                }\n            });\n        }; };\n        _this.handleInputChange = function (fieldType, value) {\n            var _a;\n            var key = fieldType === RangePickerInput_1.FieldType.START ? 'startValue' : 'endValue';\n            _this.setState(__assign({}, _this.state, (_a = {}, _a[key] = value, _a)));\n        };\n        _this.handleMouseOver = function (date) {\n            _this.setState(__assign({}, _this.state, { hoverDate: date }));\n        };\n        _this.handleInputBlur = function (fieldType, value) {\n            var dateFormat = _this.props.dateFormat;\n            var _a = _this.state, start = _a.start, end = _a.end;\n            var parsedDate = dayjs(value, dateFormat);\n            var startDate = start;\n            var endDate = end;\n            if (parsedDate.isValid() && dateFormat.length === value.length) {\n                if (fieldType === RangePickerInput_1.FieldType.END) {\n                    endDate = parsedDate;\n                }\n                else if (fieldType === RangePickerInput_1.FieldType.START) {\n                    startDate = parsedDate;\n                }\n            }\n            if (startDate && endDate) {\n                if (DateUtil_1.isDayBefore(endDate, startDate) || DateUtil_1.isDayAfter(startDate, endDate)) {\n                    // Swapping Date\n                    var temp = void 0;\n                    temp = startDate;\n                    startDate = endDate;\n                    endDate = temp;\n                }\n            }\n            _this.setState(__assign({}, _this.state, { start: startDate, end: endDate, startValue: DateUtil_1.formatDate(startDate, dateFormat), endValue: DateUtil_1.formatDate(endDate, dateFormat) }));\n        };\n        _this.handleCalendarText = function (date) {\n            var _a = _this.props, startText = _a.startText, endText = _a.endText, customDayText = _a.customDayText;\n            var _b = _this.state, start = _b.start, end = _b.end;\n            if (DateUtil_1.isDayEqual(start, date))\n                return startText;\n            if (DateUtil_1.isDayEqual(end, date))\n                return endText;\n            FunctionUtil_1.ifExistCall(customDayText, date);\n            return '';\n        };\n        _this.handleCalendarClass = function (date) {\n            var customDayClass = _this.props.customDayClass;\n            var _a = _this.state, start = _a.start, end = _a.end, hoverDate = _a.hoverDate;\n            if (start && !end && hoverDate) {\n                if (DateUtil_1.isDayRange(date, start, hoverDate)) {\n                    return 'calendar__day--range';\n                }\n            }\n            FunctionUtil_1.ifExistCall(customDayClass, date);\n            return '';\n        };\n        _this.handleInputClear = function (fieldType) {\n            if (fieldType === RangePickerInput_1.FieldType.START) {\n                _this.setState(__assign({}, _this.state, { start: undefined, startValue: '' }));\n            }\n            else if (fieldType === RangePickerInput_1.FieldType.END) {\n                _this.setState(__assign({}, _this.state, { end: undefined, endValue: '' }));\n            }\n        };\n        _this.renderRangePickerInput = function () {\n            var _a = _this.props, startPlaceholder = _a.startPlaceholder, endPlaceholder = _a.endPlaceholder, readOnly = _a.readOnly, disabled = _a.disabled, clear = _a.clear, onChange = _a.onChange;\n            var _b = _this.state, startValue = _b.startValue, endValue = _b.endValue;\n            return (React.createElement(RangePickerInput_1.default, { startPlaceholder: startPlaceholder, readOnly: readOnly, disabled: disabled, clear: clear, endPlaceholder: endPlaceholder, startValue: startValue, endValue: endValue, onChange: _this.handleInputChange, onBlur: _this.handleInputBlur, onClear: _this.handleInputClear }));\n        };\n        _this.renderCalendar = function (actions) {\n            var _a = _this.props, showMonthCnt = _a.showMonthCnt, initialDate = _a.initialDate, wrapper = _a.wrapper;\n            var _b = _this.state, start = _b.start, end = _b.end;\n            var component;\n            var calendar = (React.createElement(Calendar_1.default, __assign({}, _this.props, { base: start || initialDate, startDay: start, endDay: end, showMonthCnt: showMonthCnt, onChange: _this.handleDateChange(actions), onMouseOver: _this.handleMouseOver, customDayText: _this.handleCalendarText, customDayClass: _this.handleCalendarClass })));\n            component = calendar;\n            if (wrapper) {\n                component = wrapper(calendar);\n            }\n            return component;\n        };\n        var dateFormat = props.dateFormat, initialStartDate = props.initialStartDate, initialEndDate = props.initialEndDate;\n        var start = initialStartDate;\n        var end = initialEndDate;\n        _this.state = {\n            start: start,\n            end: end,\n            startValue: DateUtil_1.formatDate(start, dateFormat),\n            endValue: DateUtil_1.formatDate(end, dateFormat),\n        };\n        return _this;\n    }\n    RangeDatePicker.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, portal = _a.portal, direction = _a.direction, disabled = _a.disabled, readOnly = _a.readOnly;\n        return (React.createElement(Picker_1.default, { portal: portal, direction: direction, readOnly: readOnly, disabled: disabled, renderTrigger: function () { return _this.renderRangePickerInput(); }, renderContents: function (_a) {\n                var actions = _a.actions;\n                return _this.renderCalendar(actions);\n            } }));\n    };\n    RangeDatePicker.defaultProps = {\n        dateFormat: Constant_1.DatePickerDefaults.dateFormat,\n        portal: false,\n        initialDate: dayjs(),\n        showMonthCnt: 2,\n        startText: '',\n        endText: '',\n    };\n    return RangeDatePicker;\n}(React.Component));\nexports.default = RangeDatePicker;\n//# sourceMappingURL=RangeDatePicker.js.map"]},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/**\n * AccumulationChart legend\n */\n\n\nimport { extend, isNullOrUndefined, Animation } from '@syncfusion/ej2-base';\nimport { pointByIndex } from '../model/acc-base';\nimport { BaseLegend, LegendOptions } from '../../common/legend/legend';\nimport { Rect, measureText } from '@syncfusion/ej2-svg-base';\nimport { textTrim, getElement, blazorTemplatesReset } from '../../common/utils/helper';\n/**\n * AccumulationLegend module used to render `Legend` for Accumulation chart.\n */\n\nvar AccumulationLegend =\n/** @class */\nfunction (_super) {\n  __extends(AccumulationLegend, _super);\n  /**\n   * Constructor for Accumulation Legend.\n   * @param chart\n   */\n\n\n  function AccumulationLegend(chart) {\n    var _this = _super.call(this, chart) || this;\n\n    _this.library = _this;\n    _this.titleRect = new Rect(0, chart.margin.top, 0, 0);\n    return _this;\n  }\n  /**\n   * Get the legend options.\n   * @return {void}\n   * @private\n   */\n\n\n  AccumulationLegend.prototype.getLegendOptions = function (chart, series) {\n    this.legendCollections = [];\n\n    for (var i = 0; i < 1; i++) {\n      var seriesType = series[i].type;\n\n      if (seriesType === 'Pie' || seriesType === 'Doughnut') {\n        seriesType = series[i].innerRadius !== '0' && series[i].innerRadius !== '0%' ? 'Doughnut' : 'Pie';\n      }\n\n      for (var _i = 0, _a = series[i].points; _i < _a.length; _i++) {\n        var point = _a[_i];\n\n        if (!isNullOrUndefined(point.x) && !isNullOrUndefined(point.y)) {\n          this.legendCollections.push(new LegendOptions(point.x.toString(), point.color, series[i].legendShape, point.visible, seriesType, point.legendImageUrl, null, null, point.index, series[i].index));\n        }\n      }\n    }\n  };\n  /**\n   * To find legend bounds for accumulation chart.\n   * @private\n   */\n\n\n  AccumulationLegend.prototype.getLegendBounds = function (availableSize, legendBounds, legend) {\n    this.calculateLegendTitle(legend, legendBounds);\n    this.isTitle = legend.title ? true : false;\n    var extraWidth = 0;\n    var extraHeight = 0;\n    var padding = legend.padding;\n    var titlePosition = legend.titlePosition;\n    var titlePlusArrowSpace = 0;\n    var arrowWidth = this.arrowWidth;\n    var arrowHeight = legend.enablePages ? 0 : this.arrowHeight;\n\n    if (!this.isVertical) {\n      extraHeight = !legend.height ? availableSize.height / 100 * 5 : 0;\n    } else {\n      extraWidth = !legend.width ? availableSize.width / 100 * 5 : 0;\n    }\n\n    legendBounds.width += extraWidth;\n    legendBounds.height += extraHeight;\n    var shapePadding = legend.shapePadding;\n    var maximumWidth = 0;\n    var shapeWidth = legend.shapeWidth;\n    var rowWidth = 0;\n    var rowCount = 0;\n    var columnWidth = [];\n    var columnHeight = 0;\n    var legendWidth = 0;\n    var titleHeight = 0;\n    this.maxItemHeight = Math.max(measureText('MeasureText', legend.textStyle).height, legend.shapeHeight);\n    var legendEventArgs;\n    var render = false;\n\n    for (var _i = 0, _a = this.legendCollections; _i < _a.length; _i++) {\n      var legendOption = _a[_i];\n      legendEventArgs = {\n        fill: legendOption.fill,\n        text: legendOption.text,\n        shape: legendOption.shape,\n        name: 'legendRender',\n        cancel: false\n      };\n      this.chart.trigger('legendRender', legendEventArgs);\n      legendOption.render = !legendEventArgs.cancel;\n      legendOption.text = legendEventArgs.text;\n      legendOption.fill = legendEventArgs.fill;\n      legendOption.shape = legendEventArgs.shape;\n      legendOption.textSize = measureText(legendOption.text, legend.textStyle);\n\n      if (legendOption.render && legendOption.text !== '') {\n        render = true;\n        legendWidth = shapeWidth + shapePadding + legendOption.textSize.width + padding;\n\n        if (this.isVertical) {\n          ++rowCount;\n          columnHeight = rowCount * (this.maxItemHeight + padding) + padding + this.legendTitleSize.height + arrowHeight;\n\n          if (rowCount * (this.maxItemHeight + padding) + padding + arrowHeight > legendBounds.height) {\n            columnHeight = Math.max(columnHeight, rowCount * (this.maxItemHeight + padding) + padding + arrowHeight);\n            rowWidth = rowWidth + maximumWidth;\n            columnWidth.push(maximumWidth);\n            this.totalPages = Math.max(rowCount, this.totalPages || 1);\n            maximumWidth = 0;\n            rowCount = 1;\n          }\n\n          maximumWidth = Math.max(legendWidth, maximumWidth);\n        } else {\n          if (!legend.enablePages) {\n            // For new legend navigation support\n            titlePlusArrowSpace = this.isTitle && titlePosition !== 'Top' ? this.legendTitleSize.width + this.fivePixel : 0;\n            titlePlusArrowSpace += arrowWidth;\n          }\n\n          rowWidth = rowWidth + legendWidth;\n\n          if (legendBounds.width < padding + rowWidth + titlePlusArrowSpace) {\n            maximumWidth = Math.max(maximumWidth, rowWidth + padding + titlePlusArrowSpace - legendWidth);\n\n            if (rowCount === 0 && legendWidth !== rowWidth) {\n              rowCount = 1;\n            }\n\n            rowWidth = legendWidth;\n            rowCount++;\n            columnHeight = rowCount * (this.maxItemHeight + padding) + padding + this.legendTitleSize.height;\n          }\n        }\n      }\n    }\n\n    titleHeight = titlePosition === 'Top' ? this.legendTitleSize.height : 0;\n\n    if (this.isVertical) {\n      rowWidth = rowWidth + maximumWidth;\n      this.isPaging = legendBounds.width < rowWidth + padding;\n      columnHeight = Math.max(columnHeight, (this.totalPages || 1) * (this.maxItemHeight + padding) + padding + arrowHeight);\n      this.isPaging = this.isPaging && this.totalPages > 1;\n\n      if (columnWidth[columnWidth.length - 1] !== maximumWidth) {\n        columnWidth.push(maximumWidth);\n      }\n    } else {\n      this.isPaging = legendBounds.height < columnHeight;\n      columnHeight = !legend.enablePages && this.isPaging ? this.maxItemHeight + padding + padding + titleHeight : columnHeight;\n      this.totalPages = this.totalRowCount = rowCount;\n      columnHeight = Math.max(columnHeight, this.maxItemHeight + padding + padding + titleHeight);\n\n      if (!this.isPaging) {\n        // For title left and right position\n        rowWidth += this.isTitle && titlePosition !== 'Top' ? this.fivePixel + this.legendTitleSize.width + this.fivePixel : 0;\n      }\n    }\n\n    this.maxColumns = 0; // initialization for max columns\n\n    var width = this.isVertical ? this.getMaxColumn(columnWidth, legendBounds.width, padding, rowWidth + padding) : Math.max(rowWidth + padding, maximumWidth);\n\n    if (render) {\n      // if any legends not skipped in event check\n      this.setBounds(width, columnHeight, legend, legendBounds);\n    } else {\n      this.setBounds(0, 0, legend, legendBounds);\n    }\n  };\n  /**\n   * To find maximum column size for legend\n   */\n\n\n  AccumulationLegend.prototype.getMaxColumn = function (columns, width, padding, rowWidth) {\n    var maxPageColumn = padding;\n    this.maxColumnWidth = Math.max.apply(null, columns);\n\n    for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\n      var column = columns_1[_i];\n      maxPageColumn += this.maxColumnWidth;\n      this.maxColumns++;\n\n      if (maxPageColumn + padding > width) {\n        maxPageColumn -= this.maxColumnWidth;\n        this.maxColumns--;\n        break;\n      }\n    }\n\n    this.isPaging = maxPageColumn < rowWidth && this.totalPages > 1;\n\n    if (maxPageColumn === padding) {\n      maxPageColumn = width;\n    }\n\n    this.maxColumns = Math.max(1, this.maxColumns);\n    this.maxWidth = maxPageColumn;\n    return maxPageColumn;\n  };\n  /**\n   * To find available width from legend x position.\n   */\n\n\n  AccumulationLegend.prototype.getAvailWidth = function (tx, width, legendX) {\n    if (this.isVertical) {\n      width = this.maxWidth;\n    }\n\n    return width - (this.legend.padding * 2 + this.legend.shapeWidth + this.legend.shapePadding);\n  };\n  /**\n   * To find legend rendering locations from legend options.\n   * @private\n   */\n\n\n  AccumulationLegend.prototype.getRenderPoint = function (legendOption, start, textPadding, prevLegend, rect, count, firstLegend) {\n    var padding = this.legend.padding;\n\n    if (this.isVertical) {\n      if (count === firstLegend || prevLegend.location.y + this.maxItemHeight * 1.5 + padding * 2 > rect.y + rect.height) {\n        legendOption.location.x = prevLegend.location.x + (count === firstLegend ? 0 : this.maxColumnWidth);\n        legendOption.location.y = start.y;\n        this.pageXCollections.push(legendOption.location.x - this.legend.shapeWidth / 2 - padding);\n        this.totalPages++;\n      } else {\n        legendOption.location.x = prevLegend.location.x;\n        legendOption.location.y = prevLegend.location.y + this.maxItemHeight + padding;\n      }\n    } else {\n      var previousBound = prevLegend.location.x + textPadding + prevLegend.textSize.width;\n\n      if (previousBound + (legendOption.textSize.width + textPadding) > rect.x + rect.width + this.legend.shapeWidth / 2) {\n        legendOption.location.y = count === firstLegend ? prevLegend.location.y : prevLegend.location.y + this.maxItemHeight + padding;\n        legendOption.location.x = start.x;\n      } else {\n        legendOption.location.y = prevLegend.location.y;\n        legendOption.location.x = count === firstLegend ? prevLegend.location.x : previousBound;\n      }\n\n      this.totalPages = this.totalRowCount;\n    }\n\n    var availablewidth = this.getAvailWidth(legendOption.location.x, this.legendBounds.width, this.legendBounds.x);\n    legendOption.text = textTrim(+availablewidth.toFixed(4), legendOption.text, this.legend.textStyle);\n  };\n  /**\n   * finding the smart legend place according to positions.\n   * @return {void}\n   * @private\n   */\n\n\n  AccumulationLegend.prototype.getSmartLegendLocation = function (labelBound, legendBound, margin) {\n    var space;\n\n    switch (this.position) {\n      case 'Left':\n        space = (labelBound.x - legendBound.width - margin.left) / 2;\n        legendBound.x = labelBound.x - legendBound.width < margin.left ? legendBound.x : labelBound.x - legendBound.width - space;\n        break;\n\n      case 'Right':\n        space = (this.chart.availableSize.width - margin.right - (labelBound.x + labelBound.width + legendBound.width)) / 2;\n        legendBound.x = labelBound.x + labelBound.width + legendBound.width > this.chart.availableSize.width - margin.right ? legendBound.x : labelBound.x + labelBound.width + space;\n        break;\n\n      case 'Top':\n        this.getTitleRect(this.chart);\n        space = (labelBound.y - legendBound.height - (this.titleRect.y + this.titleRect.height)) / 2;\n        legendBound.y = labelBound.y - legendBound.height < margin.top ? legendBound.y : labelBound.y - legendBound.height - space;\n        break;\n\n      case 'Bottom':\n        space = (this.chart.availableSize.height - margin.bottom - (labelBound.y + labelBound.height + legendBound.height)) / 2;\n        legendBound.y = labelBound.y + labelBound.height + legendBound.height > this.chart.availableSize.height - margin.bottom ? legendBound.y : labelBound.y + labelBound.height + space;\n        break;\n    }\n  };\n  /**\n   * To get title rect.\n   */\n\n\n  AccumulationLegend.prototype.getTitleRect = function (accumulation) {\n    if (!accumulation.title) {\n      return null;\n    }\n\n    var titleSize = measureText(accumulation.title, accumulation.titleStyle);\n    this.titleRect = new Rect(accumulation.availableSize.width / 2 - titleSize.width / 2, accumulation.margin.top, titleSize.width, titleSize.height);\n  };\n  /**\n   * To get legend by index\n   */\n\n\n  AccumulationLegend.prototype.legendByIndex = function (index, legendCollections) {\n    for (var _i = 0, legendCollections_1 = legendCollections; _i < legendCollections_1.length; _i++) {\n      var legend = legendCollections_1[_i];\n\n      if (legend.pointIndex === index) {\n        return legend;\n      }\n    }\n\n    return null;\n  };\n  /**\n   * To show or hide the legend on clicking the legend.\n   * @return {void}\n   */\n\n\n  AccumulationLegend.prototype.click = function (event) {\n    var targetId = event.target.id;\n    var chart = this.chart;\n    var legendItemsId = [this.legendID + '_text_', this.legendID + '_shape_', this.legendID + '_shape_marker_'];\n    var selectedDataIndexes = [];\n\n    if (this.chart.accumulationSelectionModule) {\n      selectedDataIndexes = extend([], this.chart.accumulationSelectionModule.selectedDataIndexes, null, true);\n    }\n\n    this.chart.animateSeries = false;\n\n    for (var _i = 0, legendItemsId_1 = legendItemsId; _i < legendItemsId_1.length; _i++) {\n      var id = legendItemsId_1[_i];\n\n      if (targetId.indexOf(id) > -1) {\n        var pointIndex = parseInt(targetId.split(id)[1], 10);\n\n        if (this.chart.legendSettings.toggleVisibility && !isNaN(pointIndex)) {\n          var currentSeries = this.chart.visibleSeries[0];\n          var point = pointByIndex(pointIndex, currentSeries.points);\n          var legendOption = this.legendByIndex(pointIndex, this.legendCollections);\n          point.visible = !point.visible;\n          legendOption.visible = point.visible;\n          currentSeries.sumOfPoints += point.visible ? point.y : -point.y;\n          chart.redraw = chart.enableAnimation;\n          this.sliceVisibility(pointIndex, point.visible);\n          chart.removeSvg(); //To remove the blazor templates                  \n\n          blazorTemplatesReset(chart);\n          this.chart.refreshPoints(currentSeries.points);\n          this.chart.renderElements();\n        } else if (this.chart.accumulationSelectionModule && !isNaN(pointIndex)) {\n          this.chart.accumulationSelectionModule.legendSelection(this.chart, 0, pointIndex);\n        }\n      }\n    }\n\n    if (targetId.indexOf(this.legendID + '_pageup') > -1) {\n      this.changePage(event, true);\n    } else if (targetId.indexOf(this.legendID + '_pagedown') > -1) {\n      this.changePage(event, false);\n    }\n\n    chart.redraw = false;\n  };\n  /**\n   * To translate the point elements by index and position\n   */\n\n\n  AccumulationLegend.prototype.sliceVisibility = function (index, isVisible) {\n    var sliceId = this.chart.element.id + '_Series_0_Point_';\n\n    if (this.chart.visibleSeries[0].dataLabel.visible) {\n      sliceId = this.chart.element.id + '_datalabel_Series_0_';\n      this.sliceAnimate(getElement(sliceId + 'g_' + index), isVisible);\n    }\n  };\n  /**\n   * Slice animation\n   * @param element\n   * @param name\n   * @param isVisible\n   */\n\n\n  AccumulationLegend.prototype.sliceAnimate = function (element, isVisible) {\n    if (!element) {\n      return null;\n    }\n\n    new Animation({}).animate(element, {\n      duration: 300,\n      delay: 0,\n      name: isVisible ? 'FadeIn' : 'FadeOut',\n      end: function (args) {\n        args.element.style.visibility = isVisible ? 'visible' : 'hidden';\n      }\n    });\n  };\n  /**\n   * Get module name\n   */\n\n\n  AccumulationLegend.prototype.getModuleName = function () {\n    return 'AccumulationLegend';\n  };\n  /**\n   * To destroy the Legend.\n   * @return {void}\n   * @private\n   */\n\n\n  AccumulationLegend.prototype.destroy = function (chart) {\n    /**\n     * Destroy method calling here\n     */\n  };\n\n  return AccumulationLegend;\n}(BaseLegend);\n\nexport { AccumulationLegend };","map":{"version":3,"sources":["C:/Users/Power GSM/Desktop/React-Fito-v1.0-9-April-2021V/React-Fito-v1.0-9-April-2021V/react-fito/node_modules/@syncfusion/ej2-charts/src/accumulation-chart/renderer/legend.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","extend","isNullOrUndefined","Animation","pointByIndex","BaseLegend","LegendOptions","Rect","measureText","textTrim","getElement","blazorTemplatesReset","AccumulationLegend","_super","chart","_this","call","library","titleRect","margin","top","getLegendOptions","series","legendCollections","i","seriesType","type","innerRadius","_i","_a","points","length","point","x","y","push","toString","color","legendShape","visible","legendImageUrl","index","getLegendBounds","availableSize","legendBounds","legend","calculateLegendTitle","isTitle","title","extraWidth","extraHeight","padding","titlePosition","titlePlusArrowSpace","arrowWidth","arrowHeight","enablePages","isVertical","height","width","shapePadding","maximumWidth","shapeWidth","rowWidth","rowCount","columnWidth","columnHeight","legendWidth","titleHeight","maxItemHeight","Math","max","textStyle","shapeHeight","legendEventArgs","render","legendOption","fill","text","shape","name","cancel","trigger","textSize","legendTitleSize","totalPages","fivePixel","isPaging","totalRowCount","maxColumns","getMaxColumn","setBounds","columns","maxPageColumn","maxColumnWidth","apply","columns_1","column","maxWidth","getAvailWidth","tx","legendX","getRenderPoint","start","textPadding","prevLegend","rect","count","firstLegend","location","pageXCollections","previousBound","availablewidth","toFixed","getSmartLegendLocation","labelBound","legendBound","space","position","left","right","getTitleRect","bottom","accumulation","titleSize","titleStyle","legendByIndex","legendCollections_1","pointIndex","click","event","targetId","target","id","legendItemsId","legendID","selectedDataIndexes","accumulationSelectionModule","animateSeries","legendItemsId_1","indexOf","parseInt","split","legendSettings","toggleVisibility","isNaN","currentSeries","visibleSeries","sumOfPoints","redraw","enableAnimation","sliceVisibility","removeSvg","refreshPoints","renderElements","legendSelection","changePage","isVisible","sliceId","element","dataLabel","sliceAnimate","animate","duration","delay","end","args","style","visibility","getModuleName","destroy"],"mappings":"AAAA,IAAIA,SAAS,GAAI,QAAQ,KAAKA,SAAd,IAA6B,YAAY;AACrD,MAAIC,aAAa,GAAG,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAChCF,IAAAA,aAAa,GAAGG,MAAM,CAACC,cAAP,IACX;AAAEC,MAAAA,SAAS,EAAE;AAAb,iBAA6BC,KAA7B,IAAsC,UAAUL,CAAV,EAAaC,CAAb,EAAgB;AAAED,MAAAA,CAAC,CAACI,SAAF,GAAcH,CAAd;AAAkB,KAD/D,IAEZ,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AAAE,WAAK,IAAIK,CAAT,IAAcL,CAAd,EAAiB,IAAIA,CAAC,CAACM,cAAF,CAAiBD,CAAjB,CAAJ,EAAyBN,CAAC,CAACM,CAAD,CAAD,GAAOL,CAAC,CAACK,CAAD,CAAR;AAAc,KAF9E;;AAGA,WAAOP,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAApB;AACH,GALD;;AAMA,SAAO,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AACnBF,IAAAA,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAAb;;AACA,aAASO,EAAT,GAAc;AAAE,WAAKC,WAAL,GAAmBT,CAAnB;AAAuB;;AACvCA,IAAAA,CAAC,CAACU,SAAF,GAAcT,CAAC,KAAK,IAAN,GAAaC,MAAM,CAACS,MAAP,CAAcV,CAAd,CAAb,IAAiCO,EAAE,CAACE,SAAH,GAAeT,CAAC,CAACS,SAAjB,EAA4B,IAAIF,EAAJ,EAA7D,CAAd;AACH,GAJD;AAKH,CAZ2C,EAA5C;AAaA;AACA;AACA;;;AACA,SAASI,MAAT,EAAiBC,iBAAjB,EAAoCC,SAApC,QAAqD,sBAArD;AACA,SAASC,YAAT,QAA6B,mBAA7B;AACA,SAASC,UAAT,EAAqBC,aAArB,QAA0C,4BAA1C;AACA,SAASC,IAAT,EAAeC,WAAf,QAAkC,0BAAlC;AACA,SAASC,QAAT,EAAmBC,UAAnB,EAA+BC,oBAA/B,QAA2D,2BAA3D;AACA;AACA;AACA;;AACA,IAAIC,kBAAkB;AAAG;AAAe,UAAUC,MAAV,EAAkB;AACtD1B,EAAAA,SAAS,CAACyB,kBAAD,EAAqBC,MAArB,CAAT;AACA;AACJ;AACA;AACA;;;AACI,WAASD,kBAAT,CAA4BE,KAA5B,EAAmC;AAC/B,QAAIC,KAAK,GAAGF,MAAM,CAACG,IAAP,CAAY,IAAZ,EAAkBF,KAAlB,KAA4B,IAAxC;;AACAC,IAAAA,KAAK,CAACE,OAAN,GAAgBF,KAAhB;AACAA,IAAAA,KAAK,CAACG,SAAN,GAAkB,IAAIX,IAAJ,CAAS,CAAT,EAAYO,KAAK,CAACK,MAAN,CAAaC,GAAzB,EAA8B,CAA9B,EAAiC,CAAjC,CAAlB;AACA,WAAOL,KAAP;AACH;AACD;AACJ;AACA;AACA;AACA;;;AACIH,EAAAA,kBAAkB,CAACb,SAAnB,CAA6BsB,gBAA7B,GAAgD,UAAUP,KAAV,EAAiBQ,MAAjB,EAAyB;AACrE,SAAKC,iBAAL,GAAyB,EAAzB;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AACxB,UAAIC,UAAU,GAAGH,MAAM,CAACE,CAAD,CAAN,CAAUE,IAA3B;;AACA,UAAID,UAAU,KAAK,KAAf,IAAwBA,UAAU,KAAK,UAA3C,EAAuD;AACnDA,QAAAA,UAAU,GAAIH,MAAM,CAACE,CAAD,CAAN,CAAUG,WAAV,KAA0B,GAA1B,IAAiCL,MAAM,CAACE,CAAD,CAAN,CAAUG,WAAV,KAA0B,IAA5D,GACT,UADS,GACI,KADjB;AAEH;;AACD,WAAK,IAAIC,EAAE,GAAG,CAAT,EAAYC,EAAE,GAAGP,MAAM,CAACE,CAAD,CAAN,CAAUM,MAAhC,EAAwCF,EAAE,GAAGC,EAAE,CAACE,MAAhD,EAAwDH,EAAE,EAA1D,EAA8D;AAC1D,YAAII,KAAK,GAAGH,EAAE,CAACD,EAAD,CAAd;;AACA,YAAI,CAAC1B,iBAAiB,CAAC8B,KAAK,CAACC,CAAP,CAAlB,IAA+B,CAAC/B,iBAAiB,CAAC8B,KAAK,CAACE,CAAP,CAArD,EAAgE;AAC5D,eAAKX,iBAAL,CAAuBY,IAAvB,CAA4B,IAAI7B,aAAJ,CAAkB0B,KAAK,CAACC,CAAN,CAAQG,QAAR,EAAlB,EAAsCJ,KAAK,CAACK,KAA5C,EAAmDf,MAAM,CAACE,CAAD,CAAN,CAAUc,WAA7D,EAA0EN,KAAK,CAACO,OAAhF,EAAyFd,UAAzF,EAAqGO,KAAK,CAACQ,cAA3G,EAA2H,IAA3H,EAAiI,IAAjI,EAAuIR,KAAK,CAACS,KAA7I,EAAoJnB,MAAM,CAACE,CAAD,CAAN,CAAUiB,KAA9J,CAA5B;AACH;AACJ;AACJ;AACJ,GAfD;AAgBA;AACJ;AACA;AACA;;;AACI7B,EAAAA,kBAAkB,CAACb,SAAnB,CAA6B2C,eAA7B,GAA+C,UAAUC,aAAV,EAAyBC,YAAzB,EAAuCC,MAAvC,EAA+C;AAC1F,SAAKC,oBAAL,CAA0BD,MAA1B,EAAkCD,YAAlC;AACA,SAAKG,OAAL,GAAeF,MAAM,CAACG,KAAP,GAAe,IAAf,GAAsB,KAArC;AACA,QAAIC,UAAU,GAAG,CAAjB;AACA,QAAIC,WAAW,GAAG,CAAlB;AACA,QAAIC,OAAO,GAAGN,MAAM,CAACM,OAArB;AACA,QAAIC,aAAa,GAAGP,MAAM,CAACO,aAA3B;AACA,QAAIC,mBAAmB,GAAG,CAA1B;AACA,QAAIC,UAAU,GAAG,KAAKA,UAAtB;AACA,QAAIC,WAAW,GAAGV,MAAM,CAACW,WAAP,GAAqB,CAArB,GAAyB,KAAKD,WAAhD;;AACA,QAAI,CAAC,KAAKE,UAAV,EAAsB;AAClBP,MAAAA,WAAW,GAAG,CAACL,MAAM,CAACa,MAAR,GAAmBf,aAAa,CAACe,MAAd,GAAuB,GAAxB,GAA+B,CAAjD,GAAsD,CAApE;AACH,KAFD,MAGK;AACDT,MAAAA,UAAU,GAAG,CAACJ,MAAM,CAACc,KAAR,GAAkBhB,aAAa,CAACgB,KAAd,GAAsB,GAAvB,GAA8B,CAA/C,GAAoD,CAAjE;AACH;;AACDf,IAAAA,YAAY,CAACe,KAAb,IAAsBV,UAAtB;AACAL,IAAAA,YAAY,CAACc,MAAb,IAAuBR,WAAvB;AACA,QAAIU,YAAY,GAAGf,MAAM,CAACe,YAA1B;AACA,QAAIC,YAAY,GAAG,CAAnB;AACA,QAAIC,UAAU,GAAGjB,MAAM,CAACiB,UAAxB;AACA,QAAIC,QAAQ,GAAG,CAAf;AACA,QAAIC,QAAQ,GAAG,CAAf;AACA,QAAIC,WAAW,GAAG,EAAlB;AACA,QAAIC,YAAY,GAAG,CAAnB;AACA,QAAIC,WAAW,GAAG,CAAlB;AACA,QAAIC,WAAW,GAAG,CAAlB;AACA,SAAKC,aAAL,GAAqBC,IAAI,CAACC,GAAL,CAAS/D,WAAW,CAAC,aAAD,EAAgBqC,MAAM,CAAC2B,SAAvB,CAAX,CAA6Cd,MAAtD,EAA8Db,MAAM,CAAC4B,WAArE,CAArB;AACA,QAAIC,eAAJ;AACA,QAAIC,MAAM,GAAG,KAAb;;AACA,SAAK,IAAI/C,EAAE,GAAG,CAAT,EAAYC,EAAE,GAAG,KAAKN,iBAA3B,EAA8CK,EAAE,GAAGC,EAAE,CAACE,MAAtD,EAA8DH,EAAE,EAAhE,EAAoE;AAChE,UAAIgD,YAAY,GAAG/C,EAAE,CAACD,EAAD,CAArB;AACA8C,MAAAA,eAAe,GAAG;AAAEG,QAAAA,IAAI,EAAED,YAAY,CAACC,IAArB;AAA2BC,QAAAA,IAAI,EAAEF,YAAY,CAACE,IAA9C;AAAoDC,QAAAA,KAAK,EAAEH,YAAY,CAACG,KAAxE;AACdC,QAAAA,IAAI,EAAE,cADQ;AACQC,QAAAA,MAAM,EAAE;AADhB,OAAlB;AAEA,WAAKnE,KAAL,CAAWoE,OAAX,CAAmB,cAAnB,EAAmCR,eAAnC;AACAE,MAAAA,YAAY,CAACD,MAAb,GAAsB,CAACD,eAAe,CAACO,MAAvC;AACAL,MAAAA,YAAY,CAACE,IAAb,GAAoBJ,eAAe,CAACI,IAApC;AACAF,MAAAA,YAAY,CAACC,IAAb,GAAoBH,eAAe,CAACG,IAApC;AACAD,MAAAA,YAAY,CAACG,KAAb,GAAqBL,eAAe,CAACK,KAArC;AACAH,MAAAA,YAAY,CAACO,QAAb,GAAwB3E,WAAW,CAACoE,YAAY,CAACE,IAAd,EAAoBjC,MAAM,CAAC2B,SAA3B,CAAnC;;AACA,UAAII,YAAY,CAACD,MAAb,IAAuBC,YAAY,CAACE,IAAb,KAAsB,EAAjD,EAAqD;AACjDH,QAAAA,MAAM,GAAG,IAAT;AACAR,QAAAA,WAAW,GAAGL,UAAU,GAAGF,YAAb,GAA4BgB,YAAY,CAACO,QAAb,CAAsBxB,KAAlD,GAA0DR,OAAxE;;AACA,YAAI,KAAKM,UAAT,EAAqB;AACjB,YAAEO,QAAF;AACAE,UAAAA,YAAY,GAAIF,QAAQ,IAAI,KAAKK,aAAL,GAAqBlB,OAAzB,CAAT,GAA8CA,OAA9C,GAAwD,KAAKiC,eAAL,CAAqB1B,MAA7E,GAAsFH,WAArG;;AACA,cAAKS,QAAQ,IAAI,KAAKK,aAAL,GAAqBlB,OAAzB,CAAT,GAA8CA,OAA9C,GAAwDI,WAAxD,GAAsEX,YAAY,CAACc,MAAvF,EAA+F;AAC3FQ,YAAAA,YAAY,GAAGI,IAAI,CAACC,GAAL,CAASL,YAAT,EAAwBF,QAAQ,IAAI,KAAKK,aAAL,GAAqBlB,OAAzB,CAAT,GAA8CA,OAA9C,GAAwDI,WAA/E,CAAf;AACAQ,YAAAA,QAAQ,GAAGA,QAAQ,GAAGF,YAAtB;AACAI,YAAAA,WAAW,CAAC9B,IAAZ,CAAiB0B,YAAjB;AACA,iBAAKwB,UAAL,GAAkBf,IAAI,CAACC,GAAL,CAASP,QAAT,EAAmB,KAAKqB,UAAL,IAAmB,CAAtC,CAAlB;AACAxB,YAAAA,YAAY,GAAG,CAAf;AACAG,YAAAA,QAAQ,GAAG,CAAX;AACH;;AACDH,UAAAA,YAAY,GAAGS,IAAI,CAACC,GAAL,CAASJ,WAAT,EAAsBN,YAAtB,CAAf;AACH,SAZD,MAaK;AACD,cAAI,CAAChB,MAAM,CAACW,WAAZ,EAAyB;AAAE;AACvBH,YAAAA,mBAAmB,GAAG,KAAKN,OAAL,IAAgBK,aAAa,KAAK,KAAlC,GAA0C,KAAKgC,eAAL,CAAqBzB,KAArB,GAA6B,KAAK2B,SAA5E,GAAwF,CAA9G;AACAjC,YAAAA,mBAAmB,IAAIC,UAAvB;AACH;;AACDS,UAAAA,QAAQ,GAAGA,QAAQ,GAAGI,WAAtB;;AACA,cAAIvB,YAAY,CAACe,KAAb,GAAsBR,OAAO,GAAGY,QAAV,GAAqBV,mBAA/C,EAAqE;AACjEQ,YAAAA,YAAY,GAAGS,IAAI,CAACC,GAAL,CAASV,YAAT,EAAwBE,QAAQ,GAAGZ,OAAX,GAAqBE,mBAArB,GAA2Cc,WAAnE,CAAf;;AACA,gBAAIH,QAAQ,KAAK,CAAb,IAAmBG,WAAW,KAAKJ,QAAvC,EAAkD;AAC9CC,cAAAA,QAAQ,GAAG,CAAX;AACH;;AACDD,YAAAA,QAAQ,GAAGI,WAAX;AACAH,YAAAA,QAAQ;AACRE,YAAAA,YAAY,GAAIF,QAAQ,IAAI,KAAKK,aAAL,GAAqBlB,OAAzB,CAAT,GAA8CA,OAA9C,GAAwD,KAAKiC,eAAL,CAAqB1B,MAA5F;AACH;AACJ;AACJ;AACJ;;AACDU,IAAAA,WAAW,GAAGhB,aAAa,KAAK,KAAlB,GAA0B,KAAKgC,eAAL,CAAqB1B,MAA/C,GAAwD,CAAtE;;AACA,QAAI,KAAKD,UAAT,EAAqB;AACjBM,MAAAA,QAAQ,GAAGA,QAAQ,GAAGF,YAAtB;AACA,WAAK0B,QAAL,GAAgB3C,YAAY,CAACe,KAAb,GAAsBI,QAAQ,GAAGZ,OAAjD;AACAe,MAAAA,YAAY,GAAGI,IAAI,CAACC,GAAL,CAASL,YAAT,EAAwB,CAAC,KAAKmB,UAAL,IAAmB,CAApB,KAA0B,KAAKhB,aAAL,GAAqBlB,OAA/C,CAAD,GAA4DA,OAA5D,GAAsEI,WAA7F,CAAf;AACA,WAAKgC,QAAL,GAAgB,KAAKA,QAAL,IAAkB,KAAKF,UAAL,GAAkB,CAApD;;AACA,UAAIpB,WAAW,CAACA,WAAW,CAAClC,MAAZ,GAAqB,CAAtB,CAAX,KAAwC8B,YAA5C,EAA0D;AACtDI,QAAAA,WAAW,CAAC9B,IAAZ,CAAiB0B,YAAjB;AACH;AACJ,KARD,MASK;AACD,WAAK0B,QAAL,GAAgB3C,YAAY,CAACc,MAAb,GAAsBQ,YAAtC;AACAA,MAAAA,YAAY,GAAG,CAACrB,MAAM,CAACW,WAAR,IAAuB,KAAK+B,QAA5B,GAAwC,KAAKlB,aAAL,GAAqBlB,OAAtB,GAAiCA,OAAjC,GAA2CiB,WAAlF,GAAgGF,YAA/G;AACA,WAAKmB,UAAL,GAAkB,KAAKG,aAAL,GAAqBxB,QAAvC;AACAE,MAAAA,YAAY,GAAGI,IAAI,CAACC,GAAL,CAASL,YAAT,EAAwB,KAAKG,aAAL,GAAqBlB,OAAtB,GAAiCA,OAAjC,GAA2CiB,WAAlE,CAAf;;AACA,UAAI,CAAC,KAAKmB,QAAV,EAAoB;AAAE;AAClBxB,QAAAA,QAAQ,IAAI,KAAKhB,OAAL,IAAgBK,aAAa,KAAK,KAAlC,GAA2C,KAAKkC,SAAL,GAAiB,KAAKF,eAAL,CAAqBzB,KAAtC,GAA8C,KAAK2B,SAA9F,GAA2G,CAAvH;AACH;AACJ;;AACD,SAAKG,UAAL,GAAkB,CAAlB,CA7F0F,CA6FrE;;AACrB,QAAI9B,KAAK,GAAG,KAAKF,UAAL,GAAkB,KAAKiC,YAAL,CAAkBzB,WAAlB,EAA+BrB,YAAY,CAACe,KAA5C,EAAmDR,OAAnD,EAA4DY,QAAQ,GAAGZ,OAAvE,CAAlB,GACRmB,IAAI,CAACC,GAAL,CAASR,QAAQ,GAAGZ,OAApB,EAA6BU,YAA7B,CADJ;;AAEA,QAAIc,MAAJ,EAAY;AAAE;AACV,WAAKgB,SAAL,CAAehC,KAAf,EAAsBO,YAAtB,EAAoCrB,MAApC,EAA4CD,YAA5C;AACH,KAFD,MAGK;AACD,WAAK+C,SAAL,CAAe,CAAf,EAAkB,CAAlB,EAAqB9C,MAArB,EAA6BD,YAA7B;AACH;AACJ,GAtGD;AAuGA;AACJ;AACA;;;AACIhC,EAAAA,kBAAkB,CAACb,SAAnB,CAA6B2F,YAA7B,GAA4C,UAAUE,OAAV,EAAmBjC,KAAnB,EAA0BR,OAA1B,EAAmCY,QAAnC,EAA6C;AACrF,QAAI8B,aAAa,GAAG1C,OAApB;AACA,SAAK2C,cAAL,GAAsBxB,IAAI,CAACC,GAAL,CAASwB,KAAT,CAAe,IAAf,EAAqBH,OAArB,CAAtB;;AACA,SAAK,IAAIhE,EAAE,GAAG,CAAT,EAAYoE,SAAS,GAAGJ,OAA7B,EAAsChE,EAAE,GAAGoE,SAAS,CAACjE,MAArD,EAA6DH,EAAE,EAA/D,EAAmE;AAC/D,UAAIqE,MAAM,GAAGD,SAAS,CAACpE,EAAD,CAAtB;AACAiE,MAAAA,aAAa,IAAI,KAAKC,cAAtB;AACA,WAAKL,UAAL;;AACA,UAAII,aAAa,GAAG1C,OAAhB,GAA0BQ,KAA9B,EAAqC;AACjCkC,QAAAA,aAAa,IAAI,KAAKC,cAAtB;AACA,aAAKL,UAAL;AACA;AACH;AACJ;;AACD,SAAKF,QAAL,GAAiBM,aAAa,GAAG9B,QAAjB,IAA+B,KAAKsB,UAAL,GAAkB,CAAjE;;AACA,QAAIQ,aAAa,KAAK1C,OAAtB,EAA+B;AAC3B0C,MAAAA,aAAa,GAAGlC,KAAhB;AACH;;AACD,SAAK8B,UAAL,GAAkBnB,IAAI,CAACC,GAAL,CAAS,CAAT,EAAY,KAAKkB,UAAjB,CAAlB;AACA,SAAKS,QAAL,GAAgBL,aAAhB;AACA,WAAOA,aAAP;AACH,GApBD;AAqBA;AACJ;AACA;;;AACIjF,EAAAA,kBAAkB,CAACb,SAAnB,CAA6BoG,aAA7B,GAA6C,UAAUC,EAAV,EAAczC,KAAd,EAAqB0C,OAArB,EAA8B;AACvE,QAAI,KAAK5C,UAAT,EAAqB;AACjBE,MAAAA,KAAK,GAAG,KAAKuC,QAAb;AACH;;AACD,WAAOvC,KAAK,IAAK,KAAKd,MAAL,CAAYM,OAAZ,GAAsB,CAAvB,GAA4B,KAAKN,MAAL,CAAYiB,UAAxC,GAAqD,KAAKjB,MAAL,CAAYe,YAArE,CAAZ;AACH,GALD;AAMA;AACJ;AACA;AACA;;;AACIhD,EAAAA,kBAAkB,CAACb,SAAnB,CAA6BuG,cAA7B,GAA8C,UAAU1B,YAAV,EAAwB2B,KAAxB,EAA+BC,WAA/B,EAA4CC,UAA5C,EAAwDC,IAAxD,EAA8DC,KAA9D,EAAqEC,WAArE,EAAkF;AAC5H,QAAIzD,OAAO,GAAG,KAAKN,MAAL,CAAYM,OAA1B;;AACA,QAAI,KAAKM,UAAT,EAAqB;AACjB,UAAIkD,KAAK,KAAKC,WAAV,IAA0BH,UAAU,CAACI,QAAX,CAAoB3E,CAApB,GAAyB,KAAKmC,aAAL,GAAqB,GAA9C,GAAsDlB,OAAO,GAAG,CAAhE,GAAqEuD,IAAI,CAACxE,CAAL,GAASwE,IAAI,CAAChD,MAAjH,EAA0H;AACtHkB,QAAAA,YAAY,CAACiC,QAAb,CAAsB5E,CAAtB,GAA0BwE,UAAU,CAACI,QAAX,CAAoB5E,CAApB,IAA0B0E,KAAK,KAAKC,WAAX,GAA0B,CAA1B,GAA8B,KAAKd,cAA5D,CAA1B;AACAlB,QAAAA,YAAY,CAACiC,QAAb,CAAsB3E,CAAtB,GAA0BqE,KAAK,CAACrE,CAAhC;AACA,aAAK4E,gBAAL,CAAsB3E,IAAtB,CAA2ByC,YAAY,CAACiC,QAAb,CAAsB5E,CAAtB,GAA2B,KAAKY,MAAL,CAAYiB,UAAZ,GAAyB,CAApD,GAAyDX,OAApF;AACA,aAAKkC,UAAL;AACH,OALD,MAMK;AACDT,QAAAA,YAAY,CAACiC,QAAb,CAAsB5E,CAAtB,GAA0BwE,UAAU,CAACI,QAAX,CAAoB5E,CAA9C;AACA2C,QAAAA,YAAY,CAACiC,QAAb,CAAsB3E,CAAtB,GAA0BuE,UAAU,CAACI,QAAX,CAAoB3E,CAApB,GAAwB,KAAKmC,aAA7B,GAA6ClB,OAAvE;AACH;AACJ,KAXD,MAYK;AACD,UAAI4D,aAAa,GAAIN,UAAU,CAACI,QAAX,CAAoB5E,CAApB,GAAwBuE,WAAxB,GAAsCC,UAAU,CAACtB,QAAX,CAAoBxB,KAA/E;;AACA,UAAKoD,aAAa,IAAInC,YAAY,CAACO,QAAb,CAAsBxB,KAAtB,GAA8B6C,WAAlC,CAAd,GAAiEE,IAAI,CAACzE,CAAL,GAASyE,IAAI,CAAC/C,KAAd,GAAsB,KAAKd,MAAL,CAAYiB,UAAZ,GAAyB,CAApH,EAAwH;AACpHc,QAAAA,YAAY,CAACiC,QAAb,CAAsB3E,CAAtB,GAA2ByE,KAAK,KAAKC,WAAX,GAA0BH,UAAU,CAACI,QAAX,CAAoB3E,CAA9C,GACtBuE,UAAU,CAACI,QAAX,CAAoB3E,CAApB,GAAwB,KAAKmC,aAA7B,GAA6ClB,OADjD;AAEAyB,QAAAA,YAAY,CAACiC,QAAb,CAAsB5E,CAAtB,GAA0BsE,KAAK,CAACtE,CAAhC;AACH,OAJD,MAKK;AACD2C,QAAAA,YAAY,CAACiC,QAAb,CAAsB3E,CAAtB,GAA0BuE,UAAU,CAACI,QAAX,CAAoB3E,CAA9C;AACA0C,QAAAA,YAAY,CAACiC,QAAb,CAAsB5E,CAAtB,GAA2B0E,KAAK,KAAKC,WAAX,GAA0BH,UAAU,CAACI,QAAX,CAAoB5E,CAA9C,GAAkD8E,aAA5E;AACH;;AACD,WAAK1B,UAAL,GAAkB,KAAKG,aAAvB;AACH;;AACD,QAAIwB,cAAc,GAAG,KAAKb,aAAL,CAAmBvB,YAAY,CAACiC,QAAb,CAAsB5E,CAAzC,EAA4C,KAAKW,YAAL,CAAkBe,KAA9D,EAAqE,KAAKf,YAAL,CAAkBX,CAAvF,CAArB;AACA2C,IAAAA,YAAY,CAACE,IAAb,GAAoBrE,QAAQ,CAAC,CAACuG,cAAc,CAACC,OAAf,CAAuB,CAAvB,CAAF,EAA6BrC,YAAY,CAACE,IAA1C,EAAgD,KAAKjC,MAAL,CAAY2B,SAA5D,CAA5B;AACH,GA7BD;AA8BA;AACJ;AACA;AACA;AACA;;;AACI5D,EAAAA,kBAAkB,CAACb,SAAnB,CAA6BmH,sBAA7B,GAAsD,UAAUC,UAAV,EAAsBC,WAAtB,EAAmCjG,MAAnC,EAA2C;AAC7F,QAAIkG,KAAJ;;AACA,YAAQ,KAAKC,QAAb;AACI,WAAK,MAAL;AACID,QAAAA,KAAK,GAAG,CAAEF,UAAU,CAAClF,CAAX,GAAemF,WAAW,CAACzD,KAA5B,GAAqCxC,MAAM,CAACoG,IAA7C,IAAqD,CAA7D;AACAH,QAAAA,WAAW,CAACnF,CAAZ,GAAiBkF,UAAU,CAAClF,CAAX,GAAemF,WAAW,CAACzD,KAA5B,GAAqCxC,MAAM,CAACoG,IAA5C,GAAmDH,WAAW,CAACnF,CAA/D,GACXkF,UAAU,CAAClF,CAAX,GAAemF,WAAW,CAACzD,KAA5B,GAAqC0D,KADzC;AAEA;;AACJ,WAAK,OAAL;AACIA,QAAAA,KAAK,GAAG,CAAE,KAAKvG,KAAL,CAAW6B,aAAX,CAAyBgB,KAAzB,GAAiCxC,MAAM,CAACqG,KAAzC,IAAmDL,UAAU,CAAClF,CAAX,GAAekF,UAAU,CAACxD,KAA1B,GAAkCyD,WAAW,CAACzD,KAAjG,CAAD,IAA4G,CAApH;AACAyD,QAAAA,WAAW,CAACnF,CAAZ,GAAiBkF,UAAU,CAAClF,CAAX,GAAekF,UAAU,CAACxD,KAA1B,GAAkCyD,WAAW,CAACzD,KAA/C,GAAyD,KAAK7C,KAAL,CAAW6B,aAAX,CAAyBgB,KAAzB,GAAiCxC,MAAM,CAACqG,KAAjG,GACZJ,WAAW,CAACnF,CADA,GACKkF,UAAU,CAAClF,CAAX,GAAekF,UAAU,CAACxD,KAA1B,GAAkC0D,KADvD;AAEA;;AACJ,WAAK,KAAL;AACI,aAAKI,YAAL,CAAkB,KAAK3G,KAAvB;AACAuG,QAAAA,KAAK,GAAG,CAAEF,UAAU,CAACjF,CAAX,GAAekF,WAAW,CAAC1D,MAA5B,IAAuC,KAAKxC,SAAL,CAAegB,CAAf,GAAmB,KAAKhB,SAAL,CAAewC,MAAzE,CAAD,IAAqF,CAA7F;AACA0D,QAAAA,WAAW,CAAClF,CAAZ,GAAiBiF,UAAU,CAACjF,CAAX,GAAekF,WAAW,CAAC1D,MAA5B,GAAsCvC,MAAM,CAACC,GAA7C,GAAmDgG,WAAW,CAAClF,CAA/D,GACXiF,UAAU,CAACjF,CAAX,GAAekF,WAAW,CAAC1D,MAA5B,GAAsC2D,KAD1C;AAEA;;AACJ,WAAK,QAAL;AACIA,QAAAA,KAAK,GAAG,CAAE,KAAKvG,KAAL,CAAW6B,aAAX,CAAyBe,MAAzB,GAAkCvC,MAAM,CAACuG,MAA1C,IAAqDP,UAAU,CAACjF,CAAX,GAAeiF,UAAU,CAACzD,MAA1B,GAAmC0D,WAAW,CAAC1D,MAApG,CAAD,IAAgH,CAAxH;AACA0D,QAAAA,WAAW,CAAClF,CAAZ,GAAgBiF,UAAU,CAACjF,CAAX,GAAeiF,UAAU,CAACzD,MAA1B,GAAmC0D,WAAW,CAAC1D,MAA/C,GAAyD,KAAK5C,KAAL,CAAW6B,aAAX,CAAyBe,MAAzB,GAAkCvC,MAAM,CAACuG,MAAlG,GACZN,WAAW,CAAClF,CADA,GACKiF,UAAU,CAACjF,CAAX,GAAeiF,UAAU,CAACzD,MAA3B,GAAqC2D,KADzD;AAEA;AArBR;AAuBH,GAzBD;AA0BA;AACJ;AACA;;;AACIzG,EAAAA,kBAAkB,CAACb,SAAnB,CAA6B0H,YAA7B,GAA4C,UAAUE,YAAV,EAAwB;AAChE,QAAI,CAACA,YAAY,CAAC3E,KAAlB,EAAyB;AACrB,aAAO,IAAP;AACH;;AACD,QAAI4E,SAAS,GAAGpH,WAAW,CAACmH,YAAY,CAAC3E,KAAd,EAAqB2E,YAAY,CAACE,UAAlC,CAA3B;AACA,SAAK3G,SAAL,GAAiB,IAAIX,IAAJ,CAASoH,YAAY,CAAChF,aAAb,CAA2BgB,KAA3B,GAAmC,CAAnC,GAAuCiE,SAAS,CAACjE,KAAV,GAAkB,CAAlE,EAAqEgE,YAAY,CAACxG,MAAb,CAAoBC,GAAzF,EAA8FwG,SAAS,CAACjE,KAAxG,EAA+GiE,SAAS,CAAClE,MAAzH,CAAjB;AACH,GAND;AAOA;AACJ;AACA;;;AACI9C,EAAAA,kBAAkB,CAACb,SAAnB,CAA6B+H,aAA7B,GAA6C,UAAUrF,KAAV,EAAiBlB,iBAAjB,EAAoC;AAC7E,SAAK,IAAIK,EAAE,GAAG,CAAT,EAAYmG,mBAAmB,GAAGxG,iBAAvC,EAA0DK,EAAE,GAAGmG,mBAAmB,CAAChG,MAAnF,EAA2FH,EAAE,EAA7F,EAAiG;AAC7F,UAAIiB,MAAM,GAAGkF,mBAAmB,CAACnG,EAAD,CAAhC;;AACA,UAAIiB,MAAM,CAACmF,UAAP,KAAsBvF,KAA1B,EAAiC;AAC7B,eAAOI,MAAP;AACH;AACJ;;AACD,WAAO,IAAP;AACH,GARD;AASA;AACJ;AACA;AACA;;;AACIjC,EAAAA,kBAAkB,CAACb,SAAnB,CAA6BkI,KAA7B,GAAqC,UAAUC,KAAV,EAAiB;AAClD,QAAIC,QAAQ,GAAGD,KAAK,CAACE,MAAN,CAAaC,EAA5B;AACA,QAAIvH,KAAK,GAAG,KAAKA,KAAjB;AACA,QAAIwH,aAAa,GAAG,CAAC,KAAKC,QAAL,GAAgB,QAAjB,EAA2B,KAAKA,QAAL,GAAgB,SAA3C,EAChB,KAAKA,QAAL,GAAgB,gBADA,CAApB;AAEA,QAAIC,mBAAmB,GAAG,EAA1B;;AACA,QAAI,KAAK1H,KAAL,CAAW2H,2BAAf,EAA4C;AACxCD,MAAAA,mBAAmB,GAAGvI,MAAM,CAAC,EAAD,EAAK,KAAKa,KAAL,CAAW2H,2BAAX,CAAuCD,mBAA5C,EAAiE,IAAjE,EAAuE,IAAvE,CAA5B;AACH;;AACD,SAAK1H,KAAL,CAAW4H,aAAX,GAA2B,KAA3B;;AACA,SAAK,IAAI9G,EAAE,GAAG,CAAT,EAAY+G,eAAe,GAAGL,aAAnC,EAAkD1G,EAAE,GAAG+G,eAAe,CAAC5G,MAAvE,EAA+EH,EAAE,EAAjF,EAAqF;AACjF,UAAIyG,EAAE,GAAGM,eAAe,CAAC/G,EAAD,CAAxB;;AACA,UAAIuG,QAAQ,CAACS,OAAT,CAAiBP,EAAjB,IAAuB,CAAC,CAA5B,EAA+B;AAC3B,YAAIL,UAAU,GAAGa,QAAQ,CAACV,QAAQ,CAACW,KAAT,CAAeT,EAAf,EAAmB,CAAnB,CAAD,EAAwB,EAAxB,CAAzB;;AACA,YAAI,KAAKvH,KAAL,CAAWiI,cAAX,CAA0BC,gBAA1B,IAA8C,CAACC,KAAK,CAACjB,UAAD,CAAxD,EAAsE;AAClE,cAAIkB,aAAa,GAAG,KAAKpI,KAAL,CAAWqI,aAAX,CAAyB,CAAzB,CAApB;AACA,cAAInH,KAAK,GAAG5B,YAAY,CAAC4H,UAAD,EAAakB,aAAa,CAACpH,MAA3B,CAAxB;AACA,cAAI8C,YAAY,GAAG,KAAKkD,aAAL,CAAmBE,UAAnB,EAA+B,KAAKzG,iBAApC,CAAnB;AACAS,UAAAA,KAAK,CAACO,OAAN,GAAgB,CAACP,KAAK,CAACO,OAAvB;AACAqC,UAAAA,YAAY,CAACrC,OAAb,GAAuBP,KAAK,CAACO,OAA7B;AACA2G,UAAAA,aAAa,CAACE,WAAd,IAA6BpH,KAAK,CAACO,OAAN,GAAgBP,KAAK,CAACE,CAAtB,GAA0B,CAACF,KAAK,CAACE,CAA9D;AACApB,UAAAA,KAAK,CAACuI,MAAN,GAAevI,KAAK,CAACwI,eAArB;AACA,eAAKC,eAAL,CAAqBvB,UAArB,EAAiChG,KAAK,CAACO,OAAvC;AACAzB,UAAAA,KAAK,CAAC0I,SAAN,GATkE,CAUlE;;AACA7I,UAAAA,oBAAoB,CAACG,KAAD,CAApB;AACA,eAAKA,KAAL,CAAW2I,aAAX,CAAyBP,aAAa,CAACpH,MAAvC;AACA,eAAKhB,KAAL,CAAW4I,cAAX;AACH,SAdD,MAeK,IAAI,KAAK5I,KAAL,CAAW2H,2BAAX,IAA0C,CAACQ,KAAK,CAACjB,UAAD,CAApD,EAAkE;AACnE,eAAKlH,KAAL,CAAW2H,2BAAX,CAAuCkB,eAAvC,CAAuD,KAAK7I,KAA5D,EAAmE,CAAnE,EAAsEkH,UAAtE;AACH;AACJ;AACJ;;AACD,QAAIG,QAAQ,CAACS,OAAT,CAAiB,KAAKL,QAAL,GAAgB,SAAjC,IAA8C,CAAC,CAAnD,EAAsD;AAClD,WAAKqB,UAAL,CAAgB1B,KAAhB,EAAuB,IAAvB;AACH,KAFD,MAGK,IAAIC,QAAQ,CAACS,OAAT,CAAiB,KAAKL,QAAL,GAAgB,WAAjC,IAAgD,CAAC,CAArD,EAAwD;AACzD,WAAKqB,UAAL,CAAgB1B,KAAhB,EAAuB,KAAvB;AACH;;AACDpH,IAAAA,KAAK,CAACuI,MAAN,GAAe,KAAf;AACH,GAzCD;AA0CA;AACJ;AACA;;;AACIzI,EAAAA,kBAAkB,CAACb,SAAnB,CAA6BwJ,eAA7B,GAA+C,UAAU9G,KAAV,EAAiBoH,SAAjB,EAA4B;AACvE,QAAIC,OAAO,GAAG,KAAKhJ,KAAL,CAAWiJ,OAAX,CAAmB1B,EAAnB,GAAwB,kBAAtC;;AACA,QAAI,KAAKvH,KAAL,CAAWqI,aAAX,CAAyB,CAAzB,EAA4Ba,SAA5B,CAAsCzH,OAA1C,EAAmD;AAC/CuH,MAAAA,OAAO,GAAG,KAAKhJ,KAAL,CAAWiJ,OAAX,CAAmB1B,EAAnB,GAAwB,sBAAlC;AACA,WAAK4B,YAAL,CAAkBvJ,UAAU,CAACoJ,OAAO,GAAG,IAAV,GAAiBrH,KAAlB,CAA5B,EAAsDoH,SAAtD;AACH;AACJ,GAND;AAOA;AACJ;AACA;AACA;AACA;AACA;;;AACIjJ,EAAAA,kBAAkB,CAACb,SAAnB,CAA6BkK,YAA7B,GAA4C,UAAUF,OAAV,EAAmBF,SAAnB,EAA8B;AACtE,QAAI,CAACE,OAAL,EAAc;AACV,aAAO,IAAP;AACH;;AACD,QAAI5J,SAAJ,CAAc,EAAd,EAAkB+J,OAAlB,CAA0BH,OAA1B,EAAmC;AAC/BI,MAAAA,QAAQ,EAAE,GADqB;AAE/BC,MAAAA,KAAK,EAAE,CAFwB;AAG/BpF,MAAAA,IAAI,EAAE6E,SAAS,GAAG,QAAH,GAAc,SAHE;AAI/BQ,MAAAA,GAAG,EAAE,UAAUC,IAAV,EAAgB;AACjBA,QAAAA,IAAI,CAACP,OAAL,CAAaQ,KAAb,CAAmBC,UAAnB,GAAgCX,SAAS,GAAG,SAAH,GAAe,QAAxD;AACH;AAN8B,KAAnC;AAQH,GAZD;AAaA;AACJ;AACA;;;AACIjJ,EAAAA,kBAAkB,CAACb,SAAnB,CAA6B0K,aAA7B,GAA6C,YAAY;AACrD,WAAO,oBAAP;AACH,GAFD;AAGA;AACJ;AACA;AACA;AACA;;;AACI7J,EAAAA,kBAAkB,CAACb,SAAnB,CAA6B2K,OAA7B,GAAuC,UAAU5J,KAAV,EAAiB;AACpD;AACR;AACA;AACK,GAJD;;AAKA,SAAOF,kBAAP;AACH,CAhWuC,CAgWtCP,UAhWsC,CAAxC;;AAiWA,SAASO,kBAAT","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * AccumulationChart legend\n */\nimport { extend, isNullOrUndefined, Animation } from '@syncfusion/ej2-base';\nimport { pointByIndex } from '../model/acc-base';\nimport { BaseLegend, LegendOptions } from '../../common/legend/legend';\nimport { Rect, measureText } from '@syncfusion/ej2-svg-base';\nimport { textTrim, getElement, blazorTemplatesReset } from '../../common/utils/helper';\n/**\n * AccumulationLegend module used to render `Legend` for Accumulation chart.\n */\nvar AccumulationLegend = /** @class */ (function (_super) {\n    __extends(AccumulationLegend, _super);\n    /**\n     * Constructor for Accumulation Legend.\n     * @param chart\n     */\n    function AccumulationLegend(chart) {\n        var _this = _super.call(this, chart) || this;\n        _this.library = _this;\n        _this.titleRect = new Rect(0, chart.margin.top, 0, 0);\n        return _this;\n    }\n    /**\n     * Get the legend options.\n     * @return {void}\n     * @private\n     */\n    AccumulationLegend.prototype.getLegendOptions = function (chart, series) {\n        this.legendCollections = [];\n        for (var i = 0; i < 1; i++) {\n            var seriesType = series[i].type;\n            if (seriesType === 'Pie' || seriesType === 'Doughnut') {\n                seriesType = (series[i].innerRadius !== '0' && series[i].innerRadius !== '0%') ?\n                    'Doughnut' : 'Pie';\n            }\n            for (var _i = 0, _a = series[i].points; _i < _a.length; _i++) {\n                var point = _a[_i];\n                if (!isNullOrUndefined(point.x) && !isNullOrUndefined(point.y)) {\n                    this.legendCollections.push(new LegendOptions(point.x.toString(), point.color, series[i].legendShape, point.visible, seriesType, point.legendImageUrl, null, null, point.index, series[i].index));\n                }\n            }\n        }\n    };\n    /**\n     * To find legend bounds for accumulation chart.\n     * @private\n     */\n    AccumulationLegend.prototype.getLegendBounds = function (availableSize, legendBounds, legend) {\n        this.calculateLegendTitle(legend, legendBounds);\n        this.isTitle = legend.title ? true : false;\n        var extraWidth = 0;\n        var extraHeight = 0;\n        var padding = legend.padding;\n        var titlePosition = legend.titlePosition;\n        var titlePlusArrowSpace = 0;\n        var arrowWidth = this.arrowWidth;\n        var arrowHeight = legend.enablePages ? 0 : this.arrowHeight;\n        if (!this.isVertical) {\n            extraHeight = !legend.height ? ((availableSize.height / 100) * 5) : 0;\n        }\n        else {\n            extraWidth = !legend.width ? ((availableSize.width / 100) * 5) : 0;\n        }\n        legendBounds.width += extraWidth;\n        legendBounds.height += extraHeight;\n        var shapePadding = legend.shapePadding;\n        var maximumWidth = 0;\n        var shapeWidth = legend.shapeWidth;\n        var rowWidth = 0;\n        var rowCount = 0;\n        var columnWidth = [];\n        var columnHeight = 0;\n        var legendWidth = 0;\n        var titleHeight = 0;\n        this.maxItemHeight = Math.max(measureText('MeasureText', legend.textStyle).height, legend.shapeHeight);\n        var legendEventArgs;\n        var render = false;\n        for (var _i = 0, _a = this.legendCollections; _i < _a.length; _i++) {\n            var legendOption = _a[_i];\n            legendEventArgs = { fill: legendOption.fill, text: legendOption.text, shape: legendOption.shape,\n                name: 'legendRender', cancel: false };\n            this.chart.trigger('legendRender', legendEventArgs);\n            legendOption.render = !legendEventArgs.cancel;\n            legendOption.text = legendEventArgs.text;\n            legendOption.fill = legendEventArgs.fill;\n            legendOption.shape = legendEventArgs.shape;\n            legendOption.textSize = measureText(legendOption.text, legend.textStyle);\n            if (legendOption.render && legendOption.text !== '') {\n                render = true;\n                legendWidth = shapeWidth + shapePadding + legendOption.textSize.width + padding;\n                if (this.isVertical) {\n                    ++rowCount;\n                    columnHeight = (rowCount * (this.maxItemHeight + padding)) + padding + this.legendTitleSize.height + arrowHeight;\n                    if ((rowCount * (this.maxItemHeight + padding)) + padding + arrowHeight > legendBounds.height) {\n                        columnHeight = Math.max(columnHeight, (rowCount * (this.maxItemHeight + padding)) + padding + arrowHeight);\n                        rowWidth = rowWidth + maximumWidth;\n                        columnWidth.push(maximumWidth);\n                        this.totalPages = Math.max(rowCount, this.totalPages || 1);\n                        maximumWidth = 0;\n                        rowCount = 1;\n                    }\n                    maximumWidth = Math.max(legendWidth, maximumWidth);\n                }\n                else {\n                    if (!legend.enablePages) { // For new legend navigation support\n                        titlePlusArrowSpace = this.isTitle && titlePosition !== 'Top' ? this.legendTitleSize.width + this.fivePixel : 0;\n                        titlePlusArrowSpace += arrowWidth;\n                    }\n                    rowWidth = rowWidth + legendWidth;\n                    if (legendBounds.width < (padding + rowWidth + titlePlusArrowSpace)) {\n                        maximumWidth = Math.max(maximumWidth, (rowWidth + padding + titlePlusArrowSpace - legendWidth));\n                        if (rowCount === 0 && (legendWidth !== rowWidth)) {\n                            rowCount = 1;\n                        }\n                        rowWidth = legendWidth;\n                        rowCount++;\n                        columnHeight = (rowCount * (this.maxItemHeight + padding)) + padding + this.legendTitleSize.height;\n                    }\n                }\n            }\n        }\n        titleHeight = titlePosition === 'Top' ? this.legendTitleSize.height : 0;\n        if (this.isVertical) {\n            rowWidth = rowWidth + maximumWidth;\n            this.isPaging = legendBounds.width < (rowWidth + padding);\n            columnHeight = Math.max(columnHeight, ((this.totalPages || 1) * (this.maxItemHeight + padding)) + padding + arrowHeight);\n            this.isPaging = this.isPaging && (this.totalPages > 1);\n            if (columnWidth[columnWidth.length - 1] !== maximumWidth) {\n                columnWidth.push(maximumWidth);\n            }\n        }\n        else {\n            this.isPaging = legendBounds.height < columnHeight;\n            columnHeight = !legend.enablePages && this.isPaging ? (this.maxItemHeight + padding) + padding + titleHeight : columnHeight;\n            this.totalPages = this.totalRowCount = rowCount;\n            columnHeight = Math.max(columnHeight, (this.maxItemHeight + padding) + padding + titleHeight);\n            if (!this.isPaging) { // For title left and right position\n                rowWidth += this.isTitle && titlePosition !== 'Top' ? (this.fivePixel + this.legendTitleSize.width + this.fivePixel) : 0;\n            }\n        }\n        this.maxColumns = 0; // initialization for max columns\n        var width = this.isVertical ? this.getMaxColumn(columnWidth, legendBounds.width, padding, rowWidth + padding) :\n            Math.max(rowWidth + padding, maximumWidth);\n        if (render) { // if any legends not skipped in event check\n            this.setBounds(width, columnHeight, legend, legendBounds);\n        }\n        else {\n            this.setBounds(0, 0, legend, legendBounds);\n        }\n    };\n    /**\n     * To find maximum column size for legend\n     */\n    AccumulationLegend.prototype.getMaxColumn = function (columns, width, padding, rowWidth) {\n        var maxPageColumn = padding;\n        this.maxColumnWidth = Math.max.apply(null, columns);\n        for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\n            var column = columns_1[_i];\n            maxPageColumn += this.maxColumnWidth;\n            this.maxColumns++;\n            if (maxPageColumn + padding > width) {\n                maxPageColumn -= this.maxColumnWidth;\n                this.maxColumns--;\n                break;\n            }\n        }\n        this.isPaging = (maxPageColumn < rowWidth) && (this.totalPages > 1);\n        if (maxPageColumn === padding) {\n            maxPageColumn = width;\n        }\n        this.maxColumns = Math.max(1, this.maxColumns);\n        this.maxWidth = maxPageColumn;\n        return maxPageColumn;\n    };\n    /**\n     * To find available width from legend x position.\n     */\n    AccumulationLegend.prototype.getAvailWidth = function (tx, width, legendX) {\n        if (this.isVertical) {\n            width = this.maxWidth;\n        }\n        return width - ((this.legend.padding * 2) + this.legend.shapeWidth + this.legend.shapePadding);\n    };\n    /**\n     * To find legend rendering locations from legend options.\n     * @private\n     */\n    AccumulationLegend.prototype.getRenderPoint = function (legendOption, start, textPadding, prevLegend, rect, count, firstLegend) {\n        var padding = this.legend.padding;\n        if (this.isVertical) {\n            if (count === firstLegend || (prevLegend.location.y + (this.maxItemHeight * 1.5) + (padding * 2) > rect.y + rect.height)) {\n                legendOption.location.x = prevLegend.location.x + ((count === firstLegend) ? 0 : this.maxColumnWidth);\n                legendOption.location.y = start.y;\n                this.pageXCollections.push(legendOption.location.x - (this.legend.shapeWidth / 2) - padding);\n                this.totalPages++;\n            }\n            else {\n                legendOption.location.x = prevLegend.location.x;\n                legendOption.location.y = prevLegend.location.y + this.maxItemHeight + padding;\n            }\n        }\n        else {\n            var previousBound = (prevLegend.location.x + textPadding + prevLegend.textSize.width);\n            if ((previousBound + (legendOption.textSize.width + textPadding)) > (rect.x + rect.width + this.legend.shapeWidth / 2)) {\n                legendOption.location.y = (count === firstLegend) ? prevLegend.location.y :\n                    prevLegend.location.y + this.maxItemHeight + padding;\n                legendOption.location.x = start.x;\n            }\n            else {\n                legendOption.location.y = prevLegend.location.y;\n                legendOption.location.x = (count === firstLegend) ? prevLegend.location.x : previousBound;\n            }\n            this.totalPages = this.totalRowCount;\n        }\n        var availablewidth = this.getAvailWidth(legendOption.location.x, this.legendBounds.width, this.legendBounds.x);\n        legendOption.text = textTrim(+availablewidth.toFixed(4), legendOption.text, this.legend.textStyle);\n    };\n    /**\n     * finding the smart legend place according to positions.\n     * @return {void}\n     * @private\n     */\n    AccumulationLegend.prototype.getSmartLegendLocation = function (labelBound, legendBound, margin) {\n        var space;\n        switch (this.position) {\n            case 'Left':\n                space = ((labelBound.x - legendBound.width) - margin.left) / 2;\n                legendBound.x = (labelBound.x - legendBound.width) < margin.left ? legendBound.x :\n                    (labelBound.x - legendBound.width) - space;\n                break;\n            case 'Right':\n                space = ((this.chart.availableSize.width - margin.right) - (labelBound.x + labelBound.width + legendBound.width)) / 2;\n                legendBound.x = (labelBound.x + labelBound.width + legendBound.width) > (this.chart.availableSize.width - margin.right) ?\n                    legendBound.x : (labelBound.x + labelBound.width + space);\n                break;\n            case 'Top':\n                this.getTitleRect(this.chart);\n                space = ((labelBound.y - legendBound.height) - (this.titleRect.y + this.titleRect.height)) / 2;\n                legendBound.y = (labelBound.y - legendBound.height) < margin.top ? legendBound.y :\n                    (labelBound.y - legendBound.height) - space;\n                break;\n            case 'Bottom':\n                space = ((this.chart.availableSize.height - margin.bottom) - (labelBound.y + labelBound.height + legendBound.height)) / 2;\n                legendBound.y = labelBound.y + labelBound.height + legendBound.height > (this.chart.availableSize.height - margin.bottom) ?\n                    legendBound.y : (labelBound.y + labelBound.height) + space;\n                break;\n        }\n    };\n    /**\n     * To get title rect.\n     */\n    AccumulationLegend.prototype.getTitleRect = function (accumulation) {\n        if (!accumulation.title) {\n            return null;\n        }\n        var titleSize = measureText(accumulation.title, accumulation.titleStyle);\n        this.titleRect = new Rect(accumulation.availableSize.width / 2 - titleSize.width / 2, accumulation.margin.top, titleSize.width, titleSize.height);\n    };\n    /**\n     * To get legend by index\n     */\n    AccumulationLegend.prototype.legendByIndex = function (index, legendCollections) {\n        for (var _i = 0, legendCollections_1 = legendCollections; _i < legendCollections_1.length; _i++) {\n            var legend = legendCollections_1[_i];\n            if (legend.pointIndex === index) {\n                return legend;\n            }\n        }\n        return null;\n    };\n    /**\n     * To show or hide the legend on clicking the legend.\n     * @return {void}\n     */\n    AccumulationLegend.prototype.click = function (event) {\n        var targetId = event.target.id;\n        var chart = this.chart;\n        var legendItemsId = [this.legendID + '_text_', this.legendID + '_shape_',\n            this.legendID + '_shape_marker_'];\n        var selectedDataIndexes = [];\n        if (this.chart.accumulationSelectionModule) {\n            selectedDataIndexes = extend([], this.chart.accumulationSelectionModule.selectedDataIndexes, null, true);\n        }\n        this.chart.animateSeries = false;\n        for (var _i = 0, legendItemsId_1 = legendItemsId; _i < legendItemsId_1.length; _i++) {\n            var id = legendItemsId_1[_i];\n            if (targetId.indexOf(id) > -1) {\n                var pointIndex = parseInt(targetId.split(id)[1], 10);\n                if (this.chart.legendSettings.toggleVisibility && !isNaN(pointIndex)) {\n                    var currentSeries = this.chart.visibleSeries[0];\n                    var point = pointByIndex(pointIndex, currentSeries.points);\n                    var legendOption = this.legendByIndex(pointIndex, this.legendCollections);\n                    point.visible = !point.visible;\n                    legendOption.visible = point.visible;\n                    currentSeries.sumOfPoints += point.visible ? point.y : -point.y;\n                    chart.redraw = chart.enableAnimation;\n                    this.sliceVisibility(pointIndex, point.visible);\n                    chart.removeSvg();\n                    //To remove the blazor templates                  \n                    blazorTemplatesReset(chart);\n                    this.chart.refreshPoints(currentSeries.points);\n                    this.chart.renderElements();\n                }\n                else if (this.chart.accumulationSelectionModule && !isNaN(pointIndex)) {\n                    this.chart.accumulationSelectionModule.legendSelection(this.chart, 0, pointIndex);\n                }\n            }\n        }\n        if (targetId.indexOf(this.legendID + '_pageup') > -1) {\n            this.changePage(event, true);\n        }\n        else if (targetId.indexOf(this.legendID + '_pagedown') > -1) {\n            this.changePage(event, false);\n        }\n        chart.redraw = false;\n    };\n    /**\n     * To translate the point elements by index and position\n     */\n    AccumulationLegend.prototype.sliceVisibility = function (index, isVisible) {\n        var sliceId = this.chart.element.id + '_Series_0_Point_';\n        if (this.chart.visibleSeries[0].dataLabel.visible) {\n            sliceId = this.chart.element.id + '_datalabel_Series_0_';\n            this.sliceAnimate(getElement(sliceId + 'g_' + index), isVisible);\n        }\n    };\n    /**\n     * Slice animation\n     * @param element\n     * @param name\n     * @param isVisible\n     */\n    AccumulationLegend.prototype.sliceAnimate = function (element, isVisible) {\n        if (!element) {\n            return null;\n        }\n        new Animation({}).animate(element, {\n            duration: 300,\n            delay: 0,\n            name: isVisible ? 'FadeIn' : 'FadeOut',\n            end: function (args) {\n                args.element.style.visibility = isVisible ? 'visible' : 'hidden';\n            },\n        });\n    };\n    /**\n     * Get module name\n     */\n    AccumulationLegend.prototype.getModuleName = function () {\n        return 'AccumulationLegend';\n    };\n    /**\n     * To destroy the Legend.\n     * @return {void}\n     * @private\n     */\n    AccumulationLegend.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    return AccumulationLegend;\n}(BaseLegend));\nexport { AccumulationLegend };\n"]},"metadata":{},"sourceType":"module"}
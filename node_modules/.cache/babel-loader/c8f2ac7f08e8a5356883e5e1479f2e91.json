{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { extend } from '@syncfusion/ej2-base';\nimport { ChartLocation, withInBounds } from '../../common/utils/helper';\nimport { Rect, Size, measureText } from '@syncfusion/ej2-svg-base';\nimport { stopTimer, removeElement } from '../../common/utils/helper';\nimport { ChartData } from '../../chart/utils/get-data';\nimport { Tooltip as SVGTooltip } from '@syncfusion/ej2-svg-base';\n/**\n * Tooltip Module used to render the tooltip for series.\n */\n\nvar BaseTooltip =\n/** @class */\nfunction (_super) {\n  __extends(BaseTooltip, _super);\n  /**\n   * Constructor for tooltip module.\n   * @private.\n   */\n\n\n  function BaseTooltip(chart) {\n    var _this = _super.call(this, chart) || this;\n\n    _this.element = _this.chart.element;\n    _this.textStyle = chart.tooltip.textStyle;\n    _this.control = chart;\n    return _this;\n  }\n\n  BaseTooltip.prototype.getElement = function (id) {\n    return document.getElementById(id);\n  };\n  /**\n   * Renders the tooltip.\n   * @return {void}\n   * @private\n   */\n\n\n  BaseTooltip.prototype.getTooltipElement = function (isTooltip) {\n    this.inverted = this.chart.requireInvertedAxis;\n    this.header = this.control.tooltip.header === null ? this.control.tooltip.shared ? '<b>${point.x}</b>' : '<b>${series.name}</b>' : this.control.tooltip.header;\n    this.formattedText = [];\n    var tooltipDiv = document.getElementById(this.chart.element.id + '_tooltip');\n    var isStockChart = this.chart.element.id.indexOf('stockChart') > -1;\n\n    if (!isTooltip && !tooltipDiv || isStockChart) {\n      return this.createElement();\n    }\n\n    return null;\n  };\n\n  BaseTooltip.prototype.createElement = function () {\n    var tooltipDiv = document.createElement('div');\n    tooltipDiv.id = this.element.id + '_tooltip';\n    tooltipDiv.className = 'ejSVGTooltip';\n    tooltipDiv.setAttribute('style', 'pointer-events:none; position:absolute;z-index: 1');\n    return tooltipDiv;\n  };\n\n  BaseTooltip.prototype.pushData = function (data, isFirst, tooltipDiv, isChart) {\n    if (data.series.enableTooltip) {\n      if (isChart) {\n        this.currentPoints.push(data);\n      } else {\n        this.currentPoints.push(data);\n      }\n\n      this.stopAnimation();\n\n      if (tooltipDiv && !document.getElementById(tooltipDiv.id)) {\n        if (!this.chart.stockChart) {\n          document.getElementById(this.element.id + '_Secondary_Element').appendChild(tooltipDiv);\n        } else {\n          document.getElementById(this.chart.stockChart.element.id + '_Secondary_Element').appendChild(tooltipDiv);\n        }\n      }\n\n      return true;\n    }\n\n    return false;\n  };\n\n  BaseTooltip.prototype.removeHighlight = function (chart) {\n    var item;\n    var series;\n\n    for (var i = 0, len = this.previousPoints.length; i < len; i++) {\n      item = this.previousPoints[i];\n\n      if (item.series.isRectSeries) {\n        if (item.series.visible) {\n          this.highlightPoint(item.series, item.point.index, false);\n        }\n\n        continue;\n      }\n\n      series = item.series;\n\n      if (!series.marker.visible && item.series.type !== 'Scatter' && item.series.type !== 'Bubble') {\n        this.previousPoints.shift();\n        len -= 1;\n      }\n    }\n  };\n\n  BaseTooltip.prototype.highlightPoint = function (series, pointIndex, highlight) {\n    var element = this.getElement(this.element.id + '_Series_' + series.index + '_Point_' + pointIndex);\n    var selectionModule = this.control.accumulationSelectionModule;\n    var isSelectedElement = selectionModule && selectionModule.selectedDataIndexes.length > 0 ? true : false;\n\n    if (element) {\n      if (!isSelectedElement || isSelectedElement && element.getAttribute('class') && element.getAttribute('class').indexOf('_ej2_chart_selection_series_') === -1) {\n        element.setAttribute('opacity', (highlight ? series.opacity / 2 : series.opacity).toString());\n      } else {\n        element.setAttribute('opacity', series.opacity.toString());\n      }\n    }\n  };\n\n  BaseTooltip.prototype.highlightPoints = function () {\n    for (var _i = 0, _a = this.currentPoints; _i < _a.length; _i++) {\n      var item = _a[_i];\n\n      if (item.series.isRectSeries && item.series.category === 'Series') {\n        this.highlightPoint(item.series, item.point.index, true);\n      }\n    }\n  };\n\n  BaseTooltip.prototype.createTooltip = function (chart, isFirst, location, clipLocation, point, shapes, offset, bounds, extraPoints, templatePoint, customTemplate) {\n    if (extraPoints === void 0) {\n      extraPoints = null;\n    }\n\n    if (templatePoint === void 0) {\n      templatePoint = null;\n    }\n\n    var series = this.currentPoints[0].series;\n    var module = chart.tooltipModule || chart.accumulationTooltipModule;\n\n    if (!module) {\n      // For the tooltip enable is false.\n      return;\n    }\n\n    var isNegative = series.isRectSeries && series.type !== 'Waterfall' && point && point.y < 0;\n    var inverted = this.chart.requireInvertedAxis && series.isRectSeries;\n    var position = null;\n\n    if (this.text.length <= 1) {\n      var contentSize = measureText(this.text[0], chart.tooltip.textStyle);\n      var headerSize = !(this.header === '' || this.header === '<b></b>') ? measureText(this.header, this.textStyle) : new Size(0, 0); // marker size + arrowpadding + 2 * padding + markerpadding\n\n      var markerSize = 10 + 12 + 2 * 10 + 5;\n      contentSize.width = Math.max(contentSize.width, headerSize.width) + (shapes.length > 0 ? markerSize : 0);\n      var heightPadding = 12 + 2 * 10 + (headerSize.height > 0 ? 2 * 10 : 0);\n      contentSize.height = contentSize.height + headerSize.height + heightPadding;\n      position = this.getCurrentPosition(isNegative, inverted);\n      position = this.getPositionBySize(contentSize, new Rect(0, 0, bounds.width, bounds.height), location, position);\n      isNegative = position === 'Left' || position === 'Bottom';\n      inverted = position === 'Left' || position === 'Right';\n    } // else if (tooltipPosition !== 'None' && this.text.length <= 1) {\n    //     position = tooltipPosition as TooltipPlacement;\n    //     isNegative = (position === 'Left') || (position === 'Bottom');\n    //     inverted = (position === 'Left') || (position === 'Right');\n    // }\n\n\n    if (isFirst) {\n      this.svgTooltip = new SVGTooltip({\n        opacity: chart.tooltip.opacity,\n        header: this.headerText,\n        content: this.text,\n        fill: chart.tooltip.fill,\n        border: chart.tooltip.border,\n        enableAnimation: chart.tooltip.enableAnimation,\n        location: location,\n        shared: chart.tooltip.shared,\n        shapes: shapes,\n        clipBounds: this.chart.chartAreaType === 'PolarRadar' ? new ChartLocation(0, 0) : clipLocation,\n        areaBounds: bounds,\n        palette: this.findPalette(),\n        template: customTemplate || chart.tooltip.template,\n        data: templatePoint,\n        theme: chart.theme,\n        offset: offset,\n        textStyle: chart.tooltip.textStyle,\n        isNegative: isNegative,\n        inverted: inverted,\n        arrowPadding: this.text.length > 1 || this.chart.stockChart ? 0 : 12,\n        availableSize: chart.availableSize,\n        duration: this.chart.tooltip.duration,\n        isCanvas: this.chart.enableCanvas,\n        isTextWrap: chart.tooltip.enableTextWrap && chart.getModuleName() === 'chart',\n        blazorTemplate: {\n          name: 'Template',\n          parent: this.chart.tooltip\n        },\n        controlInstance: this.chart,\n        tooltipPlacement: position,\n        tooltipRender: function () {\n          module.removeHighlight(module.control);\n          module.highlightPoints();\n          module.updatePreviousPoint(extraPoints);\n        },\n        animationComplete: function (args) {\n          if (args.tooltip.fadeOuted) {\n            module.fadeOut(module.previousPoints, chart);\n          }\n        }\n      }, '#' + this.element.id + '_tooltip');\n    } else {\n      if (this.svgTooltip) {\n        this.svgTooltip.location = location;\n        this.svgTooltip.content = this.text;\n        this.svgTooltip.header = this.headerText;\n        this.svgTooltip.offset = offset;\n        this.svgTooltip.palette = this.findPalette();\n        this.svgTooltip.shapes = shapes;\n        this.svgTooltip.data = templatePoint;\n        this.svgTooltip.template = chart.tooltip.template;\n        this.svgTooltip.textStyle = chart.tooltip.textStyle;\n        this.svgTooltip.isNegative = isNegative;\n        this.svgTooltip.inverted = inverted;\n        this.svgTooltip.clipBounds = this.chart.chartAreaType === 'PolarRadar' ? new ChartLocation(0, 0) : clipLocation;\n        this.svgTooltip.arrowPadding = this.text.length > 1 || this.chart.stockChart ? 0 : 12;\n        this.svgTooltip.tooltipPlacement = position;\n        this.svgTooltip.dataBind();\n      }\n    } // tslint:disable-next-line:no-any\n\n\n    if (this.chart.isReact) {\n      this.chart.renderReactTemplates();\n    }\n  };\n\n  BaseTooltip.prototype.getPositionBySize = function (textSize, bounds, arrowLocation, position) {\n    var isTop = this.isTooltipFitPosition('Top', new Rect(0, 0, bounds.width, bounds.height), arrowLocation, textSize);\n    var isBottom = this.isTooltipFitPosition('Bottom', new Rect(0, 0, bounds.width, bounds.height), arrowLocation, textSize);\n    var isRight = this.isTooltipFitPosition('Right', new Rect(0, 0, bounds.width, bounds.height), arrowLocation, textSize);\n    var isLeft = this.isTooltipFitPosition('Left', new Rect(0, 0, bounds.width, bounds.height), arrowLocation, textSize);\n    var tooltipPos;\n\n    if (isTop || isBottom || isRight || isLeft) {\n      if (position === 'Top') {\n        tooltipPos = isTop ? 'Top' : isBottom ? 'Bottom' : isRight ? 'Right' : 'Left';\n      } else if (position === 'Bottom') {\n        tooltipPos = isBottom ? 'Bottom' : isTop ? 'Top' : isRight ? 'Right' : 'Left';\n      } else if (position === 'Right') {\n        tooltipPos = isRight ? 'Right' : isLeft ? 'Left' : isTop ? 'Top' : 'Bottom';\n      } else {\n        tooltipPos = isLeft ? 'Left' : isRight ? 'Right' : isTop ? 'Top' : 'Bottom';\n      }\n    } else {\n      var size = [arrowLocation.x - bounds.x, bounds.x + bounds.width - arrowLocation.x, arrowLocation.y - bounds.y, bounds.y + bounds.height - arrowLocation.y];\n      var index = size.indexOf(Math.max.apply(this, size));\n      position = index === 0 ? 'Left' : index === 1 ? 'Right' : index === 2 ? 'Top' : 'Bottom';\n      return position;\n    }\n\n    return tooltipPos;\n  };\n\n  BaseTooltip.prototype.isTooltipFitPosition = function (position, bounds, location, size) {\n    var start = new ChartLocation(0, 0);\n    var end = new ChartLocation(0, 0);\n\n    switch (position) {\n      case 'Top':\n        start.x = location.x - size.width / 2;\n        start.y = location.y - size.height;\n        end.x = location.x + size.width / 2;\n        end.y = location.y;\n        break;\n\n      case 'Bottom':\n        start.x = location.x - size.width / 2;\n        start.y = location.y;\n        end.x = location.x + size.width / 2;\n        end.y = location.y + size.height;\n        break;\n\n      case 'Right':\n        start.x = location.x;\n        start.y = location.y - size.height / 2;\n        end.x = location.x + size.width;\n        end.y = location.y + size.height / 2;\n        break;\n\n      case 'Left':\n        start.x = location.x - size.width;\n        start.y = location.y - size.height / 2;\n        end.x = location.x;\n        end.y = location.y + size.height / 2;\n        break;\n    }\n\n    return withInBounds(start.x, start.y, bounds) && withInBounds(end.x, end.y, bounds);\n  };\n\n  BaseTooltip.prototype.getCurrentPosition = function (isNegative, inverted) {\n    var position;\n\n    if (inverted) {\n      position = isNegative ? 'Left' : 'Right';\n    } else {\n      position = isNegative ? 'Bottom' : 'Top';\n    }\n\n    return position;\n  };\n\n  BaseTooltip.prototype.findPalette = function () {\n    var colors = [];\n\n    for (var _i = 0, _a = this.currentPoints; _i < _a.length; _i++) {\n      var data = _a[_i];\n      colors.push(this.findColor(data, data.series));\n    }\n\n    return colors;\n  };\n\n  BaseTooltip.prototype.findColor = function (data, series) {\n    if (series.isRectSeries && (series.type === 'Candle' || series.type === 'Hilo' || series.type === 'HiloOpenClose')) {\n      return data.point.color;\n    } else {\n      return (data.point.color && data.point.color !== '#ffffff' ? data.point.color : data.point.interior) || series.marker.fill || series.interior;\n    }\n  };\n\n  BaseTooltip.prototype.updatePreviousPoint = function (extraPoints) {\n    if (extraPoints) {\n      this.currentPoints = this.currentPoints.concat(extraPoints);\n    }\n\n    this.previousPoints = extend([], this.currentPoints, null, true);\n  };\n\n  BaseTooltip.prototype.fadeOut = function (data, chart) {\n    var svgElement = this.chart.enableCanvas ? this.getElement(this.element.id + '_tooltip_group') : this.getElement(this.element.id + '_tooltip_svg');\n    var isTooltip = svgElement && parseInt(svgElement.getAttribute('opacity'), 10) > 0;\n\n    if (!isTooltip) {\n      this.valueX = null;\n      this.valueY = null;\n      this.currentPoints = [];\n      this.removeHighlight(chart);\n      this.removeHighlightedMarker(data);\n      this.svgTooltip = null;\n      this.control.trigger('animationComplete', {});\n    }\n  };\n  /*\n  * @hidden\n  */\n\n\n  BaseTooltip.prototype.removeHighlightedMarker = function (data) {\n    if (this.chart.markerRender) {\n      for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {\n        var item = data_1[_i];\n        removeElement(this.element.id + '_Series_' + item.series.index + '_Point_' + item.point.index + '_Trackball');\n      }\n\n      this.chart.markerRender.removeHighlightedMarker();\n    }\n\n    this.previousPoints = [];\n  }; // public triggerEvent(point: PointData | AccPointData, isFirst: boolean, textCollection: string, firstText: boolean = true): boolean {\n  //     let argsData: ITooltipRenderEventArgs = {\n  //         cancel: false, name: tooltipRender, text: textCollection,\n  //         point: point.point, series: point.series, textStyle: this.textStyle\n  //     };\n  //     this.chart.trigger(tooltipRender, argsData);\n  //     if (!argsData.cancel) {\n  //         if (point.series.type === 'BoxAndWhisker') {\n  //             this.removeText();\n  //             isFirst = true;\n  //         }\n  //         this.formattedText = this.formattedText.concat(argsData.text);\n  //         this.text = this.formattedText;\n  //     }\n  //     return !argsData.cancel;\n  // }\n\n\n  BaseTooltip.prototype.removeText = function () {\n    this.textElements = [];\n    var element = this.getElement(this.element.id + '_tooltip_group');\n\n    if (element && element.childNodes.length > 0) {\n      while (element.lastChild && element.childNodes.length !== 1) {\n        element.removeChild(element.lastChild);\n      }\n    }\n  };\n\n  BaseTooltip.prototype.stopAnimation = function () {\n    stopTimer(this.toolTipInterval);\n  };\n  /**\n   * Removes the tooltip on mouse leave.\n   * @return {void}\n   * @private\n   */\n\n\n  BaseTooltip.prototype.removeTooltip = function (duration) {\n    var _this = this;\n\n    var tooltipElement = this.getElement(this.element.id + '_tooltip');\n    var tooltipTemplate = tooltipElement ? this.getElement(tooltipElement.id + 'parent_template') : null;\n    var isTemplateRendered = tooltipTemplate && tooltipTemplate.innerHTML !== '<div></div>';\n    this.stopAnimation(); // tslint:disable-next-line:no-any\n\n    if (this.chart.isReact && isTemplateRendered) {\n      this.chart.clearTemplate([tooltipTemplate.id], [0]);\n    }\n\n    if (tooltipElement && this.previousPoints.length > 0) {\n      this.toolTipInterval = setTimeout(function () {\n        if (_this.svgTooltip) {\n          _this.svgTooltip.fadeOut();\n        }\n      }, duration);\n    }\n  };\n\n  return BaseTooltip;\n}(ChartData);\n\nexport { BaseTooltip };","map":{"version":3,"sources":["C:/Users/Power GSM/Desktop/React-Fito-v1.0-9-April-2021V/React-Fito-v1.0-9-April-2021V/react-fito/node_modules/@syncfusion/ej2-charts/src/common/user-interaction/tooltip.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","extend","ChartLocation","withInBounds","Rect","Size","measureText","stopTimer","removeElement","ChartData","Tooltip","SVGTooltip","BaseTooltip","_super","chart","_this","call","element","textStyle","tooltip","control","getElement","id","document","getElementById","getTooltipElement","isTooltip","inverted","requireInvertedAxis","header","shared","formattedText","tooltipDiv","isStockChart","indexOf","createElement","className","setAttribute","pushData","data","isFirst","isChart","series","enableTooltip","currentPoints","push","stopAnimation","stockChart","appendChild","removeHighlight","item","i","len","previousPoints","length","isRectSeries","visible","highlightPoint","point","index","marker","type","shift","pointIndex","highlight","selectionModule","accumulationSelectionModule","isSelectedElement","selectedDataIndexes","getAttribute","opacity","toString","highlightPoints","_i","_a","category","createTooltip","location","clipLocation","shapes","offset","bounds","extraPoints","templatePoint","customTemplate","module","tooltipModule","accumulationTooltipModule","isNegative","y","position","text","contentSize","headerSize","markerSize","width","Math","max","heightPadding","height","getCurrentPosition","getPositionBySize","svgTooltip","headerText","content","fill","border","enableAnimation","clipBounds","chartAreaType","areaBounds","palette","findPalette","template","theme","arrowPadding","availableSize","duration","isCanvas","enableCanvas","isTextWrap","enableTextWrap","getModuleName","blazorTemplate","name","parent","controlInstance","tooltipPlacement","tooltipRender","updatePreviousPoint","animationComplete","args","fadeOuted","fadeOut","dataBind","isReact","renderReactTemplates","textSize","arrowLocation","isTop","isTooltipFitPosition","isBottom","isRight","isLeft","tooltipPos","size","x","apply","start","end","colors","findColor","color","interior","concat","svgElement","parseInt","valueX","valueY","removeHighlightedMarker","trigger","markerRender","data_1","removeText","textElements","childNodes","lastChild","removeChild","toolTipInterval","removeTooltip","tooltipElement","tooltipTemplate","isTemplateRendered","innerHTML","clearTemplate","setTimeout"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { extend } from '@syncfusion/ej2-base';\nimport { ChartLocation, withInBounds } from '../../common/utils/helper';\nimport { Rect, Size, measureText } from '@syncfusion/ej2-svg-base';\nimport { stopTimer, removeElement } from '../../common/utils/helper';\nimport { ChartData } from '../../chart/utils/get-data';\nimport { Tooltip as SVGTooltip } from '@syncfusion/ej2-svg-base';\n/**\n * Tooltip Module used to render the tooltip for series.\n */\nvar BaseTooltip = /** @class */ (function (_super) {\n    __extends(BaseTooltip, _super);\n    /**\n     * Constructor for tooltip module.\n     * @private.\n     */\n    function BaseTooltip(chart) {\n        var _this = _super.call(this, chart) || this;\n        _this.element = _this.chart.element;\n        _this.textStyle = chart.tooltip.textStyle;\n        _this.control = chart;\n        return _this;\n    }\n    BaseTooltip.prototype.getElement = function (id) {\n        return document.getElementById(id);\n    };\n    /**\n     * Renders the tooltip.\n     * @return {void}\n     * @private\n     */\n    BaseTooltip.prototype.getTooltipElement = function (isTooltip) {\n        this.inverted = this.chart.requireInvertedAxis;\n        this.header = (this.control.tooltip.header === null) ?\n            ((this.control.tooltip.shared) ? '<b>${point.x}</b>' : '<b>${series.name}</b>')\n            : (this.control.tooltip.header);\n        this.formattedText = [];\n        var tooltipDiv = document.getElementById(this.chart.element.id + '_tooltip');\n        var isStockChart = this.chart.element.id.indexOf('stockChart') > -1;\n        if (!isTooltip && !tooltipDiv || isStockChart) {\n            return this.createElement();\n        }\n        return null;\n    };\n    BaseTooltip.prototype.createElement = function () {\n        var tooltipDiv = document.createElement('div');\n        tooltipDiv.id = this.element.id + '_tooltip';\n        tooltipDiv.className = 'ejSVGTooltip';\n        tooltipDiv.setAttribute('style', 'pointer-events:none; position:absolute;z-index: 1');\n        return tooltipDiv;\n    };\n    BaseTooltip.prototype.pushData = function (data, isFirst, tooltipDiv, isChart) {\n        if (data.series.enableTooltip) {\n            if (isChart) {\n                this.currentPoints.push(data);\n            }\n            else {\n                this.currentPoints.push(data);\n            }\n            this.stopAnimation();\n            if (tooltipDiv && !document.getElementById(tooltipDiv.id)) {\n                if (!this.chart.stockChart) {\n                    document.getElementById(this.element.id + '_Secondary_Element').appendChild(tooltipDiv);\n                }\n                else {\n                    document.getElementById(this.chart.stockChart.element.id + '_Secondary_Element').appendChild(tooltipDiv);\n                }\n            }\n            return true;\n        }\n        return false;\n    };\n    BaseTooltip.prototype.removeHighlight = function (chart) {\n        var item;\n        var series;\n        for (var i = 0, len = this.previousPoints.length; i < len; i++) {\n            item = this.previousPoints[i];\n            if (item.series.isRectSeries) {\n                if (item.series.visible) {\n                    this.highlightPoint(item.series, item.point.index, false);\n                }\n                continue;\n            }\n            series = item.series;\n            if (!series.marker.visible && item.series.type !== 'Scatter' && item.series.type !== 'Bubble') {\n                this.previousPoints.shift();\n                len -= 1;\n            }\n        }\n    };\n    BaseTooltip.prototype.highlightPoint = function (series, pointIndex, highlight) {\n        var element = this.getElement(this.element.id + '_Series_' + series.index + '_Point_' + pointIndex);\n        var selectionModule = this.control.accumulationSelectionModule;\n        var isSelectedElement = selectionModule && selectionModule.selectedDataIndexes.length > 0 ? true : false;\n        if (element) {\n            if ((!isSelectedElement || isSelectedElement && element.getAttribute('class')\n                && element.getAttribute('class').indexOf('_ej2_chart_selection_series_') === -1)) {\n                element.setAttribute('opacity', (highlight ? series.opacity / 2 : series.opacity).toString());\n            }\n            else {\n                element.setAttribute('opacity', series.opacity.toString());\n            }\n        }\n    };\n    BaseTooltip.prototype.highlightPoints = function () {\n        for (var _i = 0, _a = this.currentPoints; _i < _a.length; _i++) {\n            var item = _a[_i];\n            if (item.series.isRectSeries && item.series.category === 'Series') {\n                this.highlightPoint(item.series, item.point.index, true);\n            }\n        }\n    };\n    BaseTooltip.prototype.createTooltip = function (chart, isFirst, location, clipLocation, point, shapes, offset, bounds, extraPoints, templatePoint, customTemplate) {\n        if (extraPoints === void 0) { extraPoints = null; }\n        if (templatePoint === void 0) { templatePoint = null; }\n        var series = this.currentPoints[0].series;\n        var module = chart.tooltipModule || chart.accumulationTooltipModule;\n        if (!module) { // For the tooltip enable is false.\n            return;\n        }\n        var isNegative = (series.isRectSeries && series.type !== 'Waterfall' && point && point.y < 0);\n        var inverted = this.chart.requireInvertedAxis && series.isRectSeries;\n        var position = null;\n        if (this.text.length <= 1) {\n            var contentSize = measureText(this.text[0], chart.tooltip.textStyle);\n            var headerSize = (!(this.header === '' || this.header === '<b></b>')) ? measureText(this.header, this.textStyle) :\n                new Size(0, 0);\n            // marker size + arrowpadding + 2 * padding + markerpadding\n            var markerSize = 10 + 12 + (2 * 10) + 5;\n            contentSize.width = Math.max(contentSize.width, headerSize.width) + ((shapes.length > 0) ? markerSize : 0);\n            var heightPadding = 12 + (2 * 10) + (headerSize.height > 0 ? (2 * 10) : 0);\n            contentSize.height = contentSize.height + headerSize.height + heightPadding;\n            position = this.getCurrentPosition(isNegative, inverted);\n            position = this.getPositionBySize(contentSize, new Rect(0, 0, bounds.width, bounds.height), location, position);\n            isNegative = (position === 'Left') || (position === 'Bottom');\n            inverted = (position === 'Left') || (position === 'Right');\n        }\n        // else if (tooltipPosition !== 'None' && this.text.length <= 1) {\n        //     position = tooltipPosition as TooltipPlacement;\n        //     isNegative = (position === 'Left') || (position === 'Bottom');\n        //     inverted = (position === 'Left') || (position === 'Right');\n        // }\n        if (isFirst) {\n            this.svgTooltip = new SVGTooltip({\n                opacity: chart.tooltip.opacity,\n                header: this.headerText,\n                content: this.text,\n                fill: chart.tooltip.fill,\n                border: chart.tooltip.border,\n                enableAnimation: chart.tooltip.enableAnimation,\n                location: location,\n                shared: chart.tooltip.shared,\n                shapes: shapes,\n                clipBounds: this.chart.chartAreaType === 'PolarRadar' ? new ChartLocation(0, 0) : clipLocation,\n                areaBounds: bounds,\n                palette: this.findPalette(),\n                template: customTemplate || chart.tooltip.template,\n                data: templatePoint,\n                theme: chart.theme,\n                offset: offset,\n                textStyle: chart.tooltip.textStyle,\n                isNegative: isNegative,\n                inverted: inverted,\n                arrowPadding: this.text.length > 1 || this.chart.stockChart ? 0 : 12,\n                availableSize: chart.availableSize,\n                duration: this.chart.tooltip.duration,\n                isCanvas: this.chart.enableCanvas,\n                isTextWrap: chart.tooltip.enableTextWrap && chart.getModuleName() === 'chart',\n                blazorTemplate: { name: 'Template', parent: this.chart.tooltip },\n                controlInstance: this.chart,\n                tooltipPlacement: position,\n                tooltipRender: function () {\n                    module.removeHighlight(module.control);\n                    module.highlightPoints();\n                    module.updatePreviousPoint(extraPoints);\n                },\n                animationComplete: function (args) {\n                    if (args.tooltip.fadeOuted) {\n                        module.fadeOut(module.previousPoints, chart);\n                    }\n                }\n            }, '#' + this.element.id + '_tooltip');\n        }\n        else {\n            if (this.svgTooltip) {\n                this.svgTooltip.location = location;\n                this.svgTooltip.content = this.text;\n                this.svgTooltip.header = this.headerText;\n                this.svgTooltip.offset = offset;\n                this.svgTooltip.palette = this.findPalette();\n                this.svgTooltip.shapes = shapes;\n                this.svgTooltip.data = templatePoint;\n                this.svgTooltip.template = chart.tooltip.template;\n                this.svgTooltip.textStyle = chart.tooltip.textStyle;\n                this.svgTooltip.isNegative = isNegative;\n                this.svgTooltip.inverted = inverted;\n                this.svgTooltip.clipBounds = this.chart.chartAreaType === 'PolarRadar' ? new ChartLocation(0, 0) : clipLocation;\n                this.svgTooltip.arrowPadding = this.text.length > 1 || this.chart.stockChart ? 0 : 12;\n                this.svgTooltip.tooltipPlacement = position;\n                this.svgTooltip.dataBind();\n            }\n        }\n        // tslint:disable-next-line:no-any\n        if (this.chart.isReact) {\n            this.chart.renderReactTemplates();\n        }\n    };\n    BaseTooltip.prototype.getPositionBySize = function (textSize, bounds, arrowLocation, position) {\n        var isTop = this.isTooltipFitPosition('Top', new Rect(0, 0, bounds.width, bounds.height), arrowLocation, textSize);\n        var isBottom = this.isTooltipFitPosition('Bottom', new Rect(0, 0, bounds.width, bounds.height), arrowLocation, textSize);\n        var isRight = this.isTooltipFitPosition('Right', new Rect(0, 0, bounds.width, bounds.height), arrowLocation, textSize);\n        var isLeft = this.isTooltipFitPosition('Left', new Rect(0, 0, bounds.width, bounds.height), arrowLocation, textSize);\n        var tooltipPos;\n        if (isTop || isBottom || isRight || isLeft) {\n            if (position === 'Top') {\n                tooltipPos = isTop ? 'Top' : (isBottom ? 'Bottom' : (isRight ? 'Right' : 'Left'));\n            }\n            else if (position === 'Bottom') {\n                tooltipPos = isBottom ? 'Bottom' : (isTop ? 'Top' : (isRight ? 'Right' : 'Left'));\n            }\n            else if (position === 'Right') {\n                tooltipPos = isRight ? 'Right' : (isLeft ? 'Left' : (isTop ? 'Top' : 'Bottom'));\n            }\n            else {\n                tooltipPos = isLeft ? 'Left' : (isRight ? 'Right' : (isTop ? 'Top' : 'Bottom'));\n            }\n        }\n        else {\n            var size = [(arrowLocation.x - bounds.x), ((bounds.x + bounds.width) - arrowLocation.x), (arrowLocation.y - bounds.y),\n                ((bounds.y + bounds.height) - arrowLocation.y)];\n            var index = size.indexOf(Math.max.apply(this, size));\n            position = (index === 0) ? 'Left' : (index === 1) ? 'Right' : (index === 2) ? 'Top' : 'Bottom';\n            return position;\n        }\n        return tooltipPos;\n    };\n    BaseTooltip.prototype.isTooltipFitPosition = function (position, bounds, location, size) {\n        var start = new ChartLocation(0, 0);\n        var end = new ChartLocation(0, 0);\n        switch (position) {\n            case 'Top':\n                start.x = location.x - (size.width / 2);\n                start.y = location.y - size.height;\n                end.x = location.x + (size.width / 2);\n                end.y = location.y;\n                break;\n            case 'Bottom':\n                start.x = location.x - (size.width / 2);\n                start.y = location.y;\n                end.x = location.x + (size.width / 2);\n                end.y = location.y + size.height;\n                break;\n            case 'Right':\n                start.x = location.x;\n                start.y = location.y - (size.height / 2);\n                end.x = location.x + size.width;\n                end.y = location.y + (size.height / 2);\n                break;\n            case 'Left':\n                start.x = location.x - size.width;\n                start.y = location.y - (size.height / 2);\n                end.x = location.x;\n                end.y = location.y + (size.height / 2);\n                break;\n        }\n        return (withInBounds(start.x, start.y, bounds) && withInBounds(end.x, end.y, bounds));\n    };\n    BaseTooltip.prototype.getCurrentPosition = function (isNegative, inverted) {\n        var position;\n        if (inverted) {\n            position = isNegative ? 'Left' : 'Right';\n        }\n        else {\n            position = isNegative ? 'Bottom' : 'Top';\n        }\n        return position;\n    };\n    BaseTooltip.prototype.findPalette = function () {\n        var colors = [];\n        for (var _i = 0, _a = this.currentPoints; _i < _a.length; _i++) {\n            var data = _a[_i];\n            colors.push(this.findColor(data, data.series));\n        }\n        return colors;\n    };\n    BaseTooltip.prototype.findColor = function (data, series) {\n        if (series.isRectSeries && (series.type === 'Candle' || series.type === 'Hilo' || series.type === 'HiloOpenClose')) {\n            return data.point.color;\n        }\n        else {\n            return (data.point.color && data.point.color !== '#ffffff' ? data.point.color\n                : data.point.interior) ||\n                series.marker.fill || series.interior;\n        }\n    };\n    BaseTooltip.prototype.updatePreviousPoint = function (extraPoints) {\n        if (extraPoints) {\n            this.currentPoints = this.currentPoints.concat(extraPoints);\n        }\n        this.previousPoints = extend([], this.currentPoints, null, true);\n    };\n    BaseTooltip.prototype.fadeOut = function (data, chart) {\n        var svgElement = this.chart.enableCanvas ? this.getElement(this.element.id + '_tooltip_group') :\n            this.getElement(this.element.id + '_tooltip_svg');\n        var isTooltip = (svgElement && parseInt(svgElement.getAttribute('opacity'), 10) > 0);\n        if (!isTooltip) {\n            this.valueX = null;\n            this.valueY = null;\n            this.currentPoints = [];\n            this.removeHighlight(chart);\n            this.removeHighlightedMarker(data);\n            this.svgTooltip = null;\n            this.control.trigger('animationComplete', {});\n        }\n    };\n    /*\n    * @hidden\n    */\n    BaseTooltip.prototype.removeHighlightedMarker = function (data) {\n        if (this.chart.markerRender) {\n            for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {\n                var item = data_1[_i];\n                removeElement(this.element.id + '_Series_' + item.series.index +\n                    '_Point_' + item.point.index + '_Trackball');\n            }\n            this.chart.markerRender.removeHighlightedMarker();\n        }\n        this.previousPoints = [];\n    };\n    // public triggerEvent(point: PointData | AccPointData, isFirst: boolean, textCollection: string, firstText: boolean = true): boolean {\n    //     let argsData: ITooltipRenderEventArgs = {\n    //         cancel: false, name: tooltipRender, text: textCollection,\n    //         point: point.point, series: point.series, textStyle: this.textStyle\n    //     };\n    //     this.chart.trigger(tooltipRender, argsData);\n    //     if (!argsData.cancel) {\n    //         if (point.series.type === 'BoxAndWhisker') {\n    //             this.removeText();\n    //             isFirst = true;\n    //         }\n    //         this.formattedText = this.formattedText.concat(argsData.text);\n    //         this.text = this.formattedText;\n    //     }\n    //     return !argsData.cancel;\n    // }\n    BaseTooltip.prototype.removeText = function () {\n        this.textElements = [];\n        var element = this.getElement(this.element.id + '_tooltip_group');\n        if (element && element.childNodes.length > 0) {\n            while (element.lastChild && element.childNodes.length !== 1) {\n                element.removeChild(element.lastChild);\n            }\n        }\n    };\n    BaseTooltip.prototype.stopAnimation = function () {\n        stopTimer(this.toolTipInterval);\n    };\n    /**\n     * Removes the tooltip on mouse leave.\n     * @return {void}\n     * @private\n     */\n    BaseTooltip.prototype.removeTooltip = function (duration) {\n        var _this = this;\n        var tooltipElement = this.getElement(this.element.id + '_tooltip');\n        var tooltipTemplate = tooltipElement ? this.getElement(tooltipElement.id + 'parent_template') : null;\n        var isTemplateRendered = tooltipTemplate && tooltipTemplate.innerHTML !== '<div></div>';\n        this.stopAnimation();\n        // tslint:disable-next-line:no-any\n        if (this.chart.isReact && isTemplateRendered) {\n            this.chart.clearTemplate([tooltipTemplate.id], [0]);\n        }\n        if (tooltipElement && this.previousPoints.length > 0) {\n            this.toolTipInterval = setTimeout(function () {\n                if (_this.svgTooltip) {\n                    _this.svgTooltip.fadeOut();\n                }\n            }, duration);\n        }\n    };\n    return BaseTooltip;\n}(ChartData));\nexport { BaseTooltip };\n"]},"metadata":{},"sourceType":"module"}
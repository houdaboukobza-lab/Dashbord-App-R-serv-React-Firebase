{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { extend, Browser, remove } from '@syncfusion/ej2-base';\nimport { PointData, ChartLocation } from '../../common/utils/helper';\nimport { getElement } from '@syncfusion/ej2-svg-base';\nimport { valueToCoefficient, removeElement, valueToPolarCoefficient, withInBounds } from '../../common/utils/helper';\nimport { BaseTooltip } from '../../common/user-interaction/tooltip';\nimport { tooltipRender, sharedTooltipRender } from '../../common/model/constants';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * `Tooltip` module is used to render the tooltip for chart series.\n */\n\nvar Tooltip =\n/** @class */\nfunction (_super) {\n  __extends(Tooltip, _super);\n  /**\n   * Constructor for tooltip module.\n   * @private.\n   */\n\n\n  function Tooltip(chart) {\n    var _this = _super.call(this, chart) || this;\n\n    _this.addEventListener();\n\n    return _this;\n  }\n  /**\n   * @hidden\n   */\n\n\n  Tooltip.prototype.addEventListener = function () {\n    if (this.chart.isDestroyed) {\n      return;\n    }\n\n    var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n    this.chart.on(cancelEvent, this.mouseLeaveHandler, this);\n    this.chart.on('tapHold', this.longPress, this);\n    this.chart.on(Browser.touchMoveEvent, this.mouseMoveHandler, this);\n    this.chart.on(Browser.touchEndEvent, this.mouseUpHandler, this);\n  };\n\n  Tooltip.prototype.mouseUpHandler = function () {\n    var chart = this.control;\n\n    if (chart.isTouch && !this.isSelected(chart) && (withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect) && chart.tooltip.shared || !chart.tooltip.shared)) {\n      if (!chart.crosshair.enable) {\n        this.tooltip();\n        this.removeTooltip(2000);\n      } else if (chart.startMove) {\n        this.removeTooltip(2000);\n      }\n    }\n  };\n\n  Tooltip.prototype.mouseLeaveHandler = function () {\n    this.removeTooltip(this.chart.tooltip.fadeOutDuration);\n  };\n\n  Tooltip.prototype.mouseMoveHandler = function () {\n    var chart = this.chart; // Tooltip for chart series.\n\n    if (!chart.disableTrackTooltip && !this.isSelected(chart)) {\n      if (!chart.tooltip.shared && (!chart.isTouch || chart.startMove)) {\n        this.tooltip();\n      }\n\n      if (withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect)) {\n        if (chart.tooltip.shared && (!chart.isTouch || chart.startMove)) {\n          this.tooltip();\n        }\n      } else {\n        if (chart.tooltip.shared) {\n          this.removeTooltip(this.chart.tooltip.fadeOutDuration);\n        }\n      }\n    }\n  };\n  /**\n   * Handles the long press on chart.\n   * @return {boolean}\n   * @private\n   */\n\n\n  Tooltip.prototype.longPress = function () {\n    var chart = this.chart;\n\n    if (chart.crosshair.enable && withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect)) {\n      this.tooltip();\n    }\n\n    return false;\n  };\n  /**\n   * Renders the tooltip.\n   * @return {void}\n   */\n\n\n  Tooltip.prototype.tooltip = function () {\n    if (this.chart.stockChart && this.chart.stockChart.onPanning) {\n      this.removeTooltip(1000);\n      return null;\n    }\n\n    var svgElement;\n    var elementId = this.chart.enableCanvas ? this.element.id + '_tooltip_group' : this.element.id + '_tooltip_svg';\n    svgElement = this.getElement(elementId); // To prevent the disappearance of the tooltip, while resize the stock chart.\n\n    var isStockSvg = this.chart.stockChart && svgElement && svgElement.firstChild.childNodes.length > 1;\n    var isTooltip = svgElement && parseInt(svgElement.getAttribute('opacity'), 10) > 0 && !isStockSvg;\n    var tooltipDiv = this.getTooltipElement(isTooltip);\n\n    if (this.chart.enableCanvas && tooltipDiv) {\n      document.getElementById(this.chart.element.id + '_Secondary_Element').appendChild(tooltipDiv);\n      tooltipDiv.appendChild(document.getElementById(this.chart.element.id + '_tooltip_svg'));\n    }\n\n    if (!this.chart.tooltip.shared) {\n      this.renderSeriesTooltip(this.chart, !isTooltip, tooltipDiv);\n    } else {\n      this.renderGroupedTooltip(this.chart, !isTooltip, tooltipDiv);\n    }\n  };\n\n  Tooltip.prototype.findHeader = function (data) {\n    if (this.header === '') {\n      return '';\n    }\n\n    this.header = this.parseTemplate(data.point, data.series, this.header, data.series.xAxis, data.series.yAxis);\n\n    if (this.header.replace(/<b>/g, '').replace(/<\\/b>/g, '').trim() !== '') {\n      return this.header;\n    }\n\n    return '';\n  };\n\n  Tooltip.prototype.findShapes = function () {\n    if (!this.chart.tooltip.enableMarker) {\n      return [];\n    }\n\n    var marker = [];\n\n    for (var _i = 0, _a = this.currentPoints; _i < _a.length; _i++) {\n      var data = _a[_i];\n      marker.push(data.point.marker.shape || data.series.marker.shape);\n    }\n\n    return marker;\n  };\n\n  Tooltip.prototype.renderSeriesTooltip = function (chart, isFirst, tooltipDiv) {\n    var data = this.getData();\n    data.lierIndex = this.lierIndex;\n    var rect = chart.chartAxisLayoutPanel.seriesClipRect;\n    this.currentPoints = [];\n    var tool;\n\n    if (this.findData(data, this.previousPoints[0])) {\n      if (!(chart.dataEditingModule && chart.dataEditingModule.isPointDragging) && this.previousPoints[0] && data.point.index === this.previousPoints[0].point.index && data.series.index === this.previousPoints[0].series.index) {\n        return null;\n      }\n\n      if (this.pushData(data, isFirst, tooltipDiv, true)) {\n        this.triggerTooltipRender(data, isFirst, this.getTooltipText(data), this.findHeader(data));\n      }\n    } else {\n      if (!data.point && this.isRemove) {\n        this.removeTooltip(this.chart.tooltip.fadeOutDuration);\n        this.isRemove = false;\n      } else {\n        for (var _i = 0, _a = chart.visibleSeries; _i < _a.length; _i++) {\n          var series = _a[_i];\n\n          if (series.visible && !(series.category === 'TrendLine')) {\n            data = this.getClosestX(chart, series) || data;\n          }\n        }\n      }\n    }\n\n    if (data && data.point) {\n      this.findMouseValue(data, chart);\n    }\n  };\n\n  Tooltip.prototype.triggerTooltipRender = function (point, isFirst, textCollection, headerText, firstText) {\n    var _this = this;\n\n    if (firstText === void 0) {\n      firstText = true;\n    }\n\n    var template;\n    var argsData = {\n      cancel: false,\n      name: tooltipRender,\n      text: textCollection,\n      headerText: headerText,\n      template: template,\n      series: this.chart.isBlazor ? {} : point.series,\n      textStyle: this.textStyle,\n      point: point.point,\n      data: {\n        pointX: point.point.x,\n        pointY: point.point.y,\n        seriesIndex: point.series.index,\n        seriesName: point.series.name,\n        pointIndex: point.point.index,\n        pointText: point.point.text\n      }\n    };\n\n    var chartTooltipSuccess = function (argsData) {\n      if (!argsData.cancel) {\n        if (point.series.type === 'BoxAndWhisker') {\n          _this.removeText();\n\n          isFirst = true;\n        }\n\n        _this.headerText = argsData.headerText;\n        _this.formattedText = _this.formattedText.concat(argsData.text);\n        _this.text = _this.formattedText;\n\n        _this.createTooltip(_this.chart, isFirst, _this.getSymbolLocation(point), point.series.clipRect, point.point, _this.findShapes(), _this.findMarkerHeight(_this.currentPoints[0]), _this.chart.chartAxisLayoutPanel.seriesClipRect, null, _this.getTemplateText(point), _this.chart.tooltip.template ? argsData.template : '');\n      } else {\n        _this.removeHighlight(_this.control);\n\n        remove(_this.getElement(_this.element.id + '_tooltip'));\n      }\n\n      _this.isRemove = true;\n    };\n\n    chartTooltipSuccess.bind(this, point);\n    this.chart.trigger(tooltipRender, argsData, chartTooltipSuccess);\n  };\n\n  Tooltip.prototype.findMarkerHeight = function (pointData) {\n    if (!this.chart.tooltip.enableMarker) {\n      return 0;\n    }\n\n    var markerHeight = 0;\n    var series = pointData.series;\n    markerHeight = (series.marker.visible || this.chart.tooltip.shared && (!series.isRectSeries || series.marker.visible) || series.type === 'Scatter' || series.drawType === 'Scatter') && !(series.type === 'Candle' || series.type === 'Hilo' || series.type === 'HiloOpenClose') ? (series.marker.height + 2) / 2 + 2 * series.marker.border.width : 0;\n    return markerHeight;\n  };\n\n  Tooltip.prototype.findData = function (data, previous) {\n    return data.point && (!previous || previous.point !== data.point || previous && previous.lierIndex > 3 && previous.lierIndex !== this.lierIndex || previous.point === data.point);\n  };\n\n  Tooltip.prototype.getSymbolLocation = function (data) {\n    var location;\n\n    if (data.series.type !== 'BoxAndWhisker') {\n      if (!data.point.symbolLocations[0]) {\n        return null;\n      }\n\n      location = new ChartLocation(data.point.symbolLocations[0].x, data.point.symbolLocations[0].y);\n    }\n\n    switch (data.series.type) {\n      case 'BoxAndWhisker':\n        return this.getBoxLocation(data);\n\n      case 'Waterfall':\n        return this.getWaterfallRegion(data, location);\n\n      case 'RangeArea':\n        return this.getRangeArea(data, location);\n\n      default:\n        return location;\n    }\n  };\n\n  Tooltip.prototype.getRangeArea = function (data, location) {\n    if (data.point.regions[0]) {\n      if (!this.inverted) {\n        location.y = data.point.regions[0].y + data.point.regions[0].height / 2;\n      } else {\n        location.x = data.point.regions[0].x + data.point.regions[0].width / 2;\n      }\n    }\n\n    return location;\n  };\n\n  Tooltip.prototype.getWaterfallRegion = function (data, location) {\n    if (!this.inverted) {\n      location.y = data.point.y < 0 ? location.y - data.point.regions[0].height : location.y;\n    } else {\n      location.x = data.point.y < 0 ? location.x + data.point.regions[0].width : location.x;\n    }\n\n    return location;\n  };\n\n  Tooltip.prototype.getTooltipText = function (pointData) {\n    var series = pointData.series;\n    return this.parseTemplate(pointData.point, series, this.getFormat(this.chart, series), series.xAxis, series.yAxis);\n  };\n\n  Tooltip.prototype.getTemplateText = function (data) {\n    if (this.chart.tooltip.template) {\n      var point = extend({}, data.point);\n      point.x = this.formatPointValue(data.point, data.series.xAxis, 'x', true, false);\n\n      if (data.series.seriesType === 'XY') {\n        point.y = this.formatPointValue(data.point, data.series.yAxis, 'y', false, true);\n      } else {\n        point.low = this.formatPointValue(data.point, data.series.yAxis, 'low', false, true);\n        point.high = this.formatPointValue(data.point, data.series.yAxis, 'high', false, true);\n      }\n\n      return point;\n    } else {\n      return data.point;\n    }\n  };\n\n  Tooltip.prototype.findMouseValue = function (data, chart) {\n    if (!chart.requireInvertedAxis) {\n      if (chart.chartAreaType === 'PolarRadar') {\n        this.valueX = valueToPolarCoefficient(data.point.xValue, data.series.xAxis) * data.series.xAxis.rect.width + data.series.xAxis.rect.x;\n      } else {\n        this.valueX = data.series.category === 'TrendLine' && chart.tooltip.shared ? this.valueX : valueToCoefficient(data.point.xValue, data.series.xAxis) * data.series.xAxis.rect.width + data.series.xAxis.rect.x;\n      }\n\n      this.valueY = chart.mouseY;\n    } else {\n      this.valueY = (1 - valueToCoefficient(data.point.xValue, data.series.xAxis)) * data.series.xAxis.rect.height + data.series.xAxis.rect.y;\n      this.valueX = chart.mouseX;\n    }\n  };\n\n  Tooltip.prototype.renderGroupedTooltip = function (chart, isFirst, tooltipDiv) {\n    var data;\n    var lastData;\n    var height = 0;\n    var width = 0;\n    var pointData = chart.chartAreaType === 'PolarRadar' ? this.getData() : null;\n    this.stopAnimation();\n    this.removeHighlight(chart);\n    this.currentPoints = [];\n    var extraPoints = [];\n    var headerContent = '';\n\n    if (isFirst) {\n      if (!chart.stockChart) {\n        if (tooltipDiv) {\n          document.getElementById(this.element.id + '_Secondary_Element').appendChild(tooltipDiv);\n        }\n      } else {\n        if (tooltipDiv && !getElement(tooltipDiv.id)) {\n          document.getElementById(chart.stockChart.element.id + '_Secondary_Element').appendChild(tooltipDiv);\n        }\n      }\n    }\n\n    this.removeText();\n    var argument = {\n      text: [],\n      cancel: false,\n      name: sharedTooltipRender,\n      data: [],\n      headerText: '',\n      textStyle: this.textStyle\n    };\n\n    for (var _i = 0, _a = chart.visibleSeries; _i < _a.length; _i++) {\n      var series = _a[_i];\n\n      if (!series.enableTooltip || !series.visible) {\n        continue;\n      }\n\n      if (chart.chartAreaType === 'Cartesian' && series.visible) {\n        data = this.getClosestX(chart, series);\n      } else if (chart.chartAreaType === 'PolarRadar' && series.visible && pointData.point !== null) {\n        data = new PointData(series.points[pointData.point.index], series);\n      }\n\n      if (data && this.header !== '' && this.currentPoints.length === 0) {\n        headerContent = this.findHeader(data);\n      }\n\n      if (data) {\n        if (!chart.isBlazor) {\n          this.triggerSharedTooltip(data, isFirst, this.getTooltipText(data), this.findHeader(data), extraPoints);\n        } else {\n          argument.data.push({\n            pointX: data.point.x,\n            pointY: data.point.y,\n            seriesIndex: data.series.index,\n            seriesName: data.series.name,\n            pointIndex: data.point.index,\n            pointText: data.point.text\n          });\n          argument.headerText = this.findHeader(data);\n          this.currentPoints.push(data);\n          argument.text.push(this.getTooltipText(data));\n          lastData = data.series.category === 'TrendLine' && chart.tooltip.shared ? lastData : data;\n        }\n      } // if (data && this.triggerEvent(data, isFirst, this.getTooltipText(data)), this.findHeader(data)) {\n      //     this.findMouseValue(data, chart);\n      //     (<PointData[]>this.currentPoints).push(data);\n      //     data = null;\n      // } else if (data) {\n      //     extraPoints.push(data);\n      // }\n\n    }\n\n    if (chart.isBlazor && data) {\n      // To avoid console error when we have empty chart with shared tooltip.\n      this.triggerBlazorSharedTooltip(argument, lastData, extraPoints, chart, isFirst);\n    }\n\n    if (this.currentPoints.length > 0) {\n      this.createTooltip(chart, isFirst, this.findSharedLocation(), this.currentPoints.length === 1 ? this.currentPoints[0].series.clipRect : null, null, this.findShapes(), this.findMarkerHeight(this.currentPoints[0]), chart.chartAxisLayoutPanel.seriesClipRect, extraPoints, this.chart.tooltip.template ? this.getTemplateText(data) : null, this.chart.tooltip.template ? argument.template : '');\n    } else if (this.getElement(this.element.id + '_tooltip_path')) {\n      this.getElement(this.element.id + '_tooltip_path').setAttribute('d', '');\n    }\n  };\n\n  Tooltip.prototype.triggerBlazorSharedTooltip = function (argument, point, extraPoints, chart, isFirst) {\n    var _this = this;\n\n    var argsData = {\n      cancel: false,\n      name: sharedTooltipRender,\n      text: argument.text,\n      headerText: argument.headerText,\n      textStyle: argument.textStyle,\n      data: argument.data\n    };\n\n    var blazorSharedTooltip = function (argsData) {\n      if (!argsData.cancel) {\n        _this.text = argsData.text;\n        _this.headerText = argsData.headerText;\n\n        _this.findMouseValue(point, _this.chart);\n\n        point = null;\n\n        _this.createTooltip(chart, isFirst, _this.findSharedLocation(), null, null, _this.findShapes(), _this.findMarkerHeight(_this.currentPoints[0]), chart.chartAxisLayoutPanel.seriesClipRect, extraPoints);\n      } else {\n        extraPoints.push(point);\n      }\n    };\n\n    blazorSharedTooltip.bind(this, point, extraPoints);\n    this.chart.trigger(sharedTooltipRender, argsData, blazorSharedTooltip);\n  };\n\n  Tooltip.prototype.triggerSharedTooltip = function (point, isFirst, textCollection, headerText, extraPoints) {\n    var _this = this;\n\n    var argsData = {\n      cancel: false,\n      name: tooltipRender,\n      text: textCollection,\n      headerText: headerText,\n      point: point.point,\n      series: this.chart.isBlazor ? {} : point.series,\n      textStyle: this.textStyle,\n      data: {\n        pointX: point.point.x,\n        pointY: point.point.y,\n        seriesIndex: point.series.index,\n        seriesName: point.series.name,\n        pointIndex: point.point.index,\n        pointText: point.point.text\n      }\n    };\n\n    var sharedTooltipSuccess = function (argsData) {\n      if (!argsData.cancel) {\n        if (point.series.type === 'BoxAndWhisker') {\n          _this.removeText();\n\n          isFirst = true;\n        }\n\n        _this.formattedText = _this.formattedText.concat(argsData.text);\n        _this.text = _this.formattedText;\n        _this.headerText = argsData.headerText;\n\n        _this.findMouseValue(point, _this.chart);\n\n        _this.currentPoints.push(point);\n\n        point = null;\n      } else {\n        extraPoints.push(point);\n      }\n    };\n\n    sharedTooltipSuccess.bind(this, point, extraPoints);\n    this.chart.trigger(tooltipRender, argsData, sharedTooltipSuccess);\n\n    if (argsData.template) {\n      this.chart.tooltip.template = argsData.template;\n    }\n  };\n\n  Tooltip.prototype.findSharedLocation = function () {\n    var stockChart = this.chart.stockChart;\n\n    if (stockChart) {\n      if (this.text.length === 1) {\n        this.text.push('');\n      }\n\n      var toolbarHeight = stockChart.enablePeriodSelector ? stockChart.toolbarHeight : 0;\n      var element = document.getElementById(stockChart.element.id + '_ChartTitle');\n      var titleHeight = stockChart.title !== '' ? element.getBoundingClientRect().height + 10 : 0;\n      return new ChartLocation(this.chart.chartAxisLayoutPanel.seriesClipRect.x + 5, this.chart.chartAxisLayoutPanel.seriesClipRect.y + toolbarHeight + 5 + titleHeight);\n    } else {\n      if (this.currentPoints.length > 1) {\n        return new ChartLocation(this.valueX, this.valueY);\n      } else {\n        return this.getSymbolLocation(this.currentPoints[0]);\n      }\n    }\n  };\n\n  Tooltip.prototype.getBoxLocation = function (data) {\n    var location;\n    location = this.lierIndex > 3 ? data.point.symbolLocations[this.lierIndex - 4] : {\n      x: data.point.regions[0].x + data.point.regions[0].width / 2,\n      y: data.point.regions[0].y + data.point.regions[0].height / 2\n    };\n    return location;\n  };\n\n  Tooltip.prototype.parseTemplate = function (point, series, format, xAxis, yAxis) {\n    var val;\n    var textValue;\n    var xFormat;\n    var customLabelFormat;\n    var chart = this.chart;\n\n    for (var _i = 0, _a = Object.keys(point); _i < _a.length; _i++) {\n      var dataValue = _a[_i];\n      val = new RegExp('${point' + '.' + dataValue + '}', 'gm');\n      format = format.replace(val.source, this.formatPointValue(point, val.source === '${point.x}' ? xAxis : yAxis, dataValue, val.source === '${point.x}', val.source === '${point.high}' || val.source === '${point.open}' || val.source === '${point.close}' || val.source === '${point.low}' || val.source === '${point.y}' || val.source === '${point.minimum}' || val.source === '${point.maximum}' || val.source === '${point.outliers}' || val.source === '${point.upperQuartile}' || val.source === '${point.lowerQuartile}' || val.source === '${point.median}'));\n    }\n\n    for (var _b = 0, _c = Object.keys(Object.getPrototypeOf(series)); _b < _c.length; _b++) {\n      var dataValue = _c[_b];\n      val = new RegExp('${series' + '.' + dataValue + '}', 'gm');\n      textValue = series[dataValue];\n      format = format.replace(val.source, textValue);\n    }\n\n    return format;\n  };\n\n  Tooltip.prototype.formatPointValue = function (point, axis, dataValue, isXPoint, isYPoint) {\n    var textValue;\n    var customLabelFormat;\n    var value;\n\n    if (axis.valueType !== 'Category' && isXPoint) {\n      customLabelFormat = axis.labelFormat && axis.labelFormat.match('{value}') !== null;\n      textValue = customLabelFormat ? axis.labelFormat.replace('{value}', axis.format(point[dataValue])) : axis.format(point[dataValue]);\n    } else if (isYPoint && !isNullOrUndefined(point[dataValue])) {\n      customLabelFormat = axis.labelFormat && axis.labelFormat.match('{value}') !== null;\n      value = dataValue === 'outliers' ? axis.format(point[dataValue][this.lierIndex - 4]) : axis.format(point[dataValue]);\n      textValue = customLabelFormat ? axis.labelFormat.replace('{value}', value) : value;\n    } else {\n      textValue = point[dataValue];\n    }\n\n    return textValue;\n  };\n\n  Tooltip.prototype.getFormat = function (chart, series) {\n    if (series.tooltipFormat) {\n      if (series.seriesType === 'XY' && series.category === 'Indicator') {\n        return this.getIndicatorTooltipFormat(series, chart, chart.tooltip.format);\n      }\n\n      return series.tooltipFormat;\n    }\n\n    if (!series.tooltipFormat && chart.tooltip.format) {\n      if (series.seriesType === 'XY' && series.category === 'Indicator') {\n        return this.getIndicatorTooltipFormat(series, chart, chart.tooltip.format);\n      }\n\n      return chart.tooltip.format;\n    }\n\n    var textX = series.type === 'Histogram' ? '${point.minimum}' + '-' + '${point.maximum}' : '${point.x}';\n    var format = !chart.tooltip.shared ? textX : '${series.name}';\n\n    switch (series.seriesType) {\n      case 'XY':\n        if (series.category === 'Indicator') {\n          this.getIndicatorTooltipFormat(series, chart, chart.tooltip.format);\n        }\n\n        return format + ' : ' + (series.type === 'Bubble' ? '<b>${point.y}</b>  Size : <b>${point.size}</b>' : '<b>${point.y}</b>');\n\n      case 'HighLow':\n        return format + '<br/>High : <b>${point.high}</b><br/>Low : <b>${point.low}</b>';\n\n      case 'HighLowOpenClose':\n        return format + ('<br/>High : <b>${point.high}</b><br/>Low : <b>${point.low}</b><br/>' + 'Open : <b>${point.open}</b><br/>Close : <b>${point.close}</b>');\n\n      case 'BoxPlot':\n        {\n          return format + '<br/>' + (this.lierIndex > 3 ? 'Outliers : <b>${point.outliers}</b>' : 'Maximum : <b>${point.maximum}</b><br/>Q3 : <b>${point.upperQuartile}</b><br/>' + 'Median : <b>${point.median}</b><br/>Q1 : <b>${point.lowerQuartile}</b><br/>Minimum : <b>${point.minimum}</b>');\n        }\n    }\n\n    return '';\n  };\n\n  Tooltip.prototype.getIndicatorTooltipFormat = function (series, chart, format) {\n    var toolTip;\n    var points = [];\n\n    if (series.seriesType === 'XY') {\n      toolTip = series.name + ' : <b>${point.y}</b>';\n    } else {\n      toolTip = format;\n    }\n\n    return toolTip;\n  };\n  /*\n     * @hidden\n     */\n\n\n  Tooltip.prototype.removeHighlightedMarker = function (data) {\n    for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {\n      var item = data_1[_i];\n      removeElement(this.element.id + '_Series_' + item.series.index + '_Point_' + item.point.index + '_Trackball');\n    }\n\n    if (this.chart.markerRender) {\n      this.chart.markerRender.removeHighlightedMarker();\n    }\n\n    this.previousPoints = [];\n  };\n  /**\n   * Get module name.\n   */\n\n\n  Tooltip.prototype.getModuleName = function () {\n    /**\n     * Returns the module name\n     */\n    return 'Tooltip';\n  };\n  /**\n   * To destroy the tooltip.\n   * @return {void}\n   * @private\n   */\n\n\n  Tooltip.prototype.destroy = function (chart) {\n    /**\n     * Destroy method performed here\n     */\n  };\n\n  return Tooltip;\n}(BaseTooltip);\n\nexport { Tooltip };","map":{"version":3,"sources":["C:/Users/Power GSM/Desktop/React-Fito-v1.0-9-April-2021V/React-Fito-v1.0-9-April-2021V/react-fito/node_modules/@syncfusion/ej2-charts/src/chart/user-interaction/tooltip.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","extend","Browser","remove","PointData","ChartLocation","getElement","valueToCoefficient","removeElement","valueToPolarCoefficient","withInBounds","BaseTooltip","tooltipRender","sharedTooltipRender","isNullOrUndefined","Tooltip","_super","chart","_this","call","addEventListener","isDestroyed","cancelEvent","isPointer","on","mouseLeaveHandler","longPress","touchMoveEvent","mouseMoveHandler","touchEndEvent","mouseUpHandler","control","isTouch","isSelected","mouseX","mouseY","chartAxisLayoutPanel","seriesClipRect","tooltip","shared","crosshair","enable","removeTooltip","startMove","fadeOutDuration","disableTrackTooltip","stockChart","onPanning","svgElement","elementId","enableCanvas","element","id","isStockSvg","firstChild","childNodes","length","isTooltip","parseInt","getAttribute","tooltipDiv","getTooltipElement","document","getElementById","appendChild","renderSeriesTooltip","renderGroupedTooltip","findHeader","data","header","parseTemplate","point","series","xAxis","yAxis","replace","trim","findShapes","enableMarker","marker","_i","_a","currentPoints","push","shape","isFirst","getData","lierIndex","rect","tool","findData","previousPoints","dataEditingModule","isPointDragging","index","pushData","triggerTooltipRender","getTooltipText","isRemove","visibleSeries","visible","category","getClosestX","findMouseValue","textCollection","headerText","firstText","template","argsData","cancel","name","text","isBlazor","textStyle","pointX","x","pointY","y","seriesIndex","seriesName","pointIndex","pointText","chartTooltipSuccess","type","removeText","formattedText","concat","createTooltip","getSymbolLocation","clipRect","findMarkerHeight","getTemplateText","removeHighlight","bind","trigger","pointData","markerHeight","isRectSeries","drawType","height","border","width","previous","location","symbolLocations","getBoxLocation","getWaterfallRegion","getRangeArea","regions","inverted","getFormat","formatPointValue","seriesType","low","high","requireInvertedAxis","chartAreaType","valueX","xValue","valueY","lastData","stopAnimation","extraPoints","headerContent","argument","enableTooltip","points","triggerSharedTooltip","triggerBlazorSharedTooltip","findSharedLocation","setAttribute","blazorSharedTooltip","sharedTooltipSuccess","toolbarHeight","enablePeriodSelector","titleHeight","title","getBoundingClientRect","format","val","textValue","xFormat","customLabelFormat","keys","dataValue","RegExp","source","_b","_c","getPrototypeOf","axis","isXPoint","isYPoint","value","valueType","labelFormat","match","tooltipFormat","getIndicatorTooltipFormat","textX","toolTip","removeHighlightedMarker","data_1","item","markerRender","getModuleName","destroy"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { extend, Browser, remove } from '@syncfusion/ej2-base';\nimport { PointData, ChartLocation } from '../../common/utils/helper';\nimport { getElement } from '@syncfusion/ej2-svg-base';\nimport { valueToCoefficient, removeElement, valueToPolarCoefficient, withInBounds } from '../../common/utils/helper';\nimport { BaseTooltip } from '../../common/user-interaction/tooltip';\nimport { tooltipRender, sharedTooltipRender } from '../../common/model/constants';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * `Tooltip` module is used to render the tooltip for chart series.\n */\nvar Tooltip = /** @class */ (function (_super) {\n    __extends(Tooltip, _super);\n    /**\n     * Constructor for tooltip module.\n     * @private.\n     */\n    function Tooltip(chart) {\n        var _this = _super.call(this, chart) || this;\n        _this.addEventListener();\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    Tooltip.prototype.addEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n        this.chart.on(cancelEvent, this.mouseLeaveHandler, this);\n        this.chart.on('tapHold', this.longPress, this);\n        this.chart.on(Browser.touchMoveEvent, this.mouseMoveHandler, this);\n        this.chart.on(Browser.touchEndEvent, this.mouseUpHandler, this);\n    };\n    Tooltip.prototype.mouseUpHandler = function () {\n        var chart = this.control;\n        if (chart.isTouch && !this.isSelected(chart) &&\n            ((withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect) && chart.tooltip.shared)\n                || !chart.tooltip.shared)) {\n            if (!chart.crosshair.enable) {\n                this.tooltip();\n                this.removeTooltip(2000);\n            }\n            else if (chart.startMove) {\n                this.removeTooltip(2000);\n            }\n        }\n    };\n    Tooltip.prototype.mouseLeaveHandler = function () {\n        this.removeTooltip(this.chart.tooltip.fadeOutDuration);\n    };\n    Tooltip.prototype.mouseMoveHandler = function () {\n        var chart = this.chart;\n        // Tooltip for chart series.\n        if (!chart.disableTrackTooltip && !this.isSelected(chart)) {\n            if (!chart.tooltip.shared && (!chart.isTouch || (chart.startMove))) {\n                this.tooltip();\n            }\n            if (withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect)) {\n                if (chart.tooltip.shared && (!chart.isTouch || (chart.startMove))) {\n                    this.tooltip();\n                }\n            }\n            else {\n                if (chart.tooltip.shared) {\n                    this.removeTooltip(this.chart.tooltip.fadeOutDuration);\n                }\n            }\n        }\n    };\n    /**\n     * Handles the long press on chart.\n     * @return {boolean}\n     * @private\n     */\n    Tooltip.prototype.longPress = function () {\n        var chart = this.chart;\n        if (chart.crosshair.enable && withInBounds(chart.mouseX, chart.mouseY, chart.chartAxisLayoutPanel.seriesClipRect)) {\n            this.tooltip();\n        }\n        return false;\n    };\n    /**\n     * Renders the tooltip.\n     * @return {void}\n     */\n    Tooltip.prototype.tooltip = function () {\n        if ((this.chart.stockChart && this.chart.stockChart.onPanning)) {\n            this.removeTooltip(1000);\n            return null;\n        }\n        var svgElement;\n        var elementId = this.chart.enableCanvas ? this.element.id + '_tooltip_group' : this.element.id + '_tooltip_svg';\n        svgElement = this.getElement(elementId);\n        // To prevent the disappearance of the tooltip, while resize the stock chart.\n        var isStockSvg = this.chart.stockChart && svgElement && (svgElement.firstChild.childNodes.length > 1);\n        var isTooltip = (svgElement && parseInt(svgElement.getAttribute('opacity'), 10) > 0 && !isStockSvg);\n        var tooltipDiv = this.getTooltipElement(isTooltip);\n        if (this.chart.enableCanvas && tooltipDiv) {\n            document.getElementById(this.chart.element.id + '_Secondary_Element').appendChild(tooltipDiv);\n            tooltipDiv.appendChild(document.getElementById(this.chart.element.id + '_tooltip_svg'));\n        }\n        if (!this.chart.tooltip.shared) {\n            this.renderSeriesTooltip(this.chart, !isTooltip, tooltipDiv);\n        }\n        else {\n            this.renderGroupedTooltip(this.chart, !isTooltip, tooltipDiv);\n        }\n    };\n    Tooltip.prototype.findHeader = function (data) {\n        if (this.header === '') {\n            return '';\n        }\n        this.header = this.parseTemplate(data.point, data.series, this.header, data.series.xAxis, data.series.yAxis);\n        if (this.header.replace(/<b>/g, '').replace(/<\\/b>/g, '').trim() !== '') {\n            return this.header;\n        }\n        return '';\n    };\n    Tooltip.prototype.findShapes = function () {\n        if (!this.chart.tooltip.enableMarker) {\n            return [];\n        }\n        var marker = [];\n        for (var _i = 0, _a = this.currentPoints; _i < _a.length; _i++) {\n            var data = _a[_i];\n            marker.push(data.point.marker.shape || data.series.marker.shape);\n        }\n        return marker;\n    };\n    Tooltip.prototype.renderSeriesTooltip = function (chart, isFirst, tooltipDiv) {\n        var data = this.getData();\n        data.lierIndex = this.lierIndex;\n        var rect = chart.chartAxisLayoutPanel.seriesClipRect;\n        this.currentPoints = [];\n        var tool;\n        if (this.findData(data, this.previousPoints[0])) {\n            if (!(chart.dataEditingModule && chart.dataEditingModule.isPointDragging) && (this.previousPoints[0] &&\n                data.point.index === this.previousPoints[0].point.index && data.series.index === this.previousPoints[0].series.index)) {\n                return null;\n            }\n            if (this.pushData(data, isFirst, tooltipDiv, true)) {\n                this.triggerTooltipRender(data, isFirst, this.getTooltipText(data), this.findHeader(data));\n            }\n        }\n        else {\n            if (!data.point && this.isRemove) {\n                this.removeTooltip(this.chart.tooltip.fadeOutDuration);\n                this.isRemove = false;\n            }\n            else {\n                for (var _i = 0, _a = chart.visibleSeries; _i < _a.length; _i++) {\n                    var series = _a[_i];\n                    if (series.visible && !(series.category === 'TrendLine')) {\n                        data = this.getClosestX(chart, series) || data;\n                    }\n                }\n            }\n        }\n        if (data && data.point) {\n            this.findMouseValue(data, chart);\n        }\n    };\n    Tooltip.prototype.triggerTooltipRender = function (point, isFirst, textCollection, headerText, firstText) {\n        var _this = this;\n        if (firstText === void 0) { firstText = true; }\n        var template;\n        var argsData = {\n            cancel: false, name: tooltipRender, text: textCollection, headerText: headerText, template: template,\n            series: this.chart.isBlazor ? {} : point.series, textStyle: this.textStyle, point: point.point,\n            data: { pointX: point.point.x, pointY: point.point.y, seriesIndex: point.series.index, seriesName: point.series.name,\n                pointIndex: point.point.index, pointText: point.point.text }\n        };\n        var chartTooltipSuccess = function (argsData) {\n            if (!argsData.cancel) {\n                if (point.series.type === 'BoxAndWhisker') {\n                    _this.removeText();\n                    isFirst = true;\n                }\n                _this.headerText = argsData.headerText;\n                _this.formattedText = _this.formattedText.concat(argsData.text);\n                _this.text = _this.formattedText;\n                _this.createTooltip(_this.chart, isFirst, _this.getSymbolLocation(point), point.series.clipRect, point.point, _this.findShapes(), _this.findMarkerHeight(_this.currentPoints[0]), _this.chart.chartAxisLayoutPanel.seriesClipRect, null, _this.getTemplateText(point), _this.chart.tooltip.template ? argsData.template : '');\n            }\n            else {\n                _this.removeHighlight(_this.control);\n                remove(_this.getElement(_this.element.id + '_tooltip'));\n            }\n            _this.isRemove = true;\n        };\n        chartTooltipSuccess.bind(this, point);\n        this.chart.trigger(tooltipRender, argsData, chartTooltipSuccess);\n    };\n    Tooltip.prototype.findMarkerHeight = function (pointData) {\n        if (!this.chart.tooltip.enableMarker) {\n            return 0;\n        }\n        var markerHeight = 0;\n        var series = pointData.series;\n        markerHeight = ((series.marker.visible || (this.chart.tooltip.shared &&\n            (!series.isRectSeries || series.marker.visible)) || series.type === 'Scatter' || series.drawType === 'Scatter')\n            && !(series.type === 'Candle' || series.type === 'Hilo' || series.type === 'HiloOpenClose')) ?\n            ((series.marker.height + 2) / 2 + (2 * series.marker.border.width)) : 0;\n        return markerHeight;\n    };\n    Tooltip.prototype.findData = function (data, previous) {\n        return data.point && ((!previous || (previous.point !== data.point)) ||\n            (previous && previous.lierIndex > 3 && previous.lierIndex !== this.lierIndex) || (previous.point === data.point));\n    };\n    Tooltip.prototype.getSymbolLocation = function (data) {\n        var location;\n        if (data.series.type !== 'BoxAndWhisker') {\n            if (!data.point.symbolLocations[0]) {\n                return null;\n            }\n            location = new ChartLocation(data.point.symbolLocations[0].x, data.point.symbolLocations[0].y);\n        }\n        switch (data.series.type) {\n            case 'BoxAndWhisker':\n                return this.getBoxLocation(data);\n            case 'Waterfall':\n                return this.getWaterfallRegion(data, location);\n            case 'RangeArea':\n                return this.getRangeArea(data, location);\n            default:\n                return location;\n        }\n    };\n    Tooltip.prototype.getRangeArea = function (data, location) {\n        if (data.point.regions[0]) {\n            if (!this.inverted) {\n                location.y = data.point.regions[0].y + data.point.regions[0].height / 2;\n            }\n            else {\n                location.x = data.point.regions[0].x + data.point.regions[0].width / 2;\n            }\n        }\n        return location;\n    };\n    Tooltip.prototype.getWaterfallRegion = function (data, location) {\n        if (!this.inverted) {\n            location.y = (data.point.y < 0) ?\n                location.y - data.point.regions[0].height : location.y;\n        }\n        else {\n            location.x = (data.point.y < 0) ?\n                location.x + data.point.regions[0].width : location.x;\n        }\n        return location;\n    };\n    Tooltip.prototype.getTooltipText = function (pointData) {\n        var series = pointData.series;\n        return this.parseTemplate(pointData.point, series, this.getFormat(this.chart, series), series.xAxis, series.yAxis);\n    };\n    Tooltip.prototype.getTemplateText = function (data) {\n        if (this.chart.tooltip.template) {\n            var point = extend({}, data.point);\n            point.x = this.formatPointValue(data.point, data.series.xAxis, 'x', true, false);\n            if ((data.series.seriesType === 'XY')) {\n                point.y = this.formatPointValue(data.point, data.series.yAxis, 'y', false, true);\n            }\n            else {\n                point.low = this.formatPointValue(data.point, data.series.yAxis, 'low', false, true);\n                point.high = this.formatPointValue(data.point, data.series.yAxis, 'high', false, true);\n            }\n            return point;\n        }\n        else {\n            return data.point;\n        }\n    };\n    Tooltip.prototype.findMouseValue = function (data, chart) {\n        if (!chart.requireInvertedAxis) {\n            if (chart.chartAreaType === 'PolarRadar') {\n                this.valueX = valueToPolarCoefficient(data.point.xValue, data.series.xAxis) * data.series.xAxis.rect.width\n                    + data.series.xAxis.rect.x;\n            }\n            else {\n                this.valueX = (data.series.category === 'TrendLine' && chart.tooltip.shared) ? this.valueX :\n                    valueToCoefficient(data.point.xValue, data.series.xAxis) * data.series.xAxis.rect.width\n                        + data.series.xAxis.rect.x;\n            }\n            this.valueY = chart.mouseY;\n        }\n        else {\n            this.valueY = (1 - valueToCoefficient(data.point.xValue, data.series.xAxis)) * data.series.xAxis.rect.height\n                + data.series.xAxis.rect.y;\n            this.valueX = chart.mouseX;\n        }\n    };\n    Tooltip.prototype.renderGroupedTooltip = function (chart, isFirst, tooltipDiv) {\n        var data;\n        var lastData;\n        var height = 0;\n        var width = 0;\n        var pointData = chart.chartAreaType === 'PolarRadar' ? this.getData() : null;\n        this.stopAnimation();\n        this.removeHighlight(chart);\n        this.currentPoints = [];\n        var extraPoints = [];\n        var headerContent = '';\n        if (isFirst) {\n            if (!chart.stockChart) {\n                if (tooltipDiv) {\n                    document.getElementById(this.element.id + '_Secondary_Element').appendChild(tooltipDiv);\n                }\n            }\n            else {\n                if (tooltipDiv && !getElement(tooltipDiv.id)) {\n                    document.getElementById(chart.stockChart.element.id + '_Secondary_Element').appendChild(tooltipDiv);\n                }\n            }\n        }\n        this.removeText();\n        var argument = {\n            text: [], cancel: false, name: sharedTooltipRender, data: [], headerText: '', textStyle: this.textStyle\n        };\n        for (var _i = 0, _a = chart.visibleSeries; _i < _a.length; _i++) {\n            var series = _a[_i];\n            if (!series.enableTooltip || !series.visible) {\n                continue;\n            }\n            if (chart.chartAreaType === 'Cartesian' && series.visible) {\n                data = this.getClosestX(chart, series);\n            }\n            else if (chart.chartAreaType === 'PolarRadar' && series.visible && pointData.point !== null) {\n                data = new PointData(series.points[pointData.point.index], series);\n            }\n            if (data && this.header !== '' && this.currentPoints.length === 0) {\n                headerContent = this.findHeader(data);\n            }\n            if (data) {\n                if (!chart.isBlazor) {\n                    this.triggerSharedTooltip(data, isFirst, this.getTooltipText(data), this.findHeader(data), extraPoints);\n                }\n                else {\n                    argument.data.push({ pointX: data.point.x, pointY: data.point.y, seriesIndex: data.series.index,\n                        seriesName: data.series.name, pointIndex: data.point.index, pointText: data.point.text });\n                    argument.headerText = this.findHeader(data);\n                    this.currentPoints.push(data);\n                    argument.text.push(this.getTooltipText(data));\n                    lastData = (data.series.category === 'TrendLine' && chart.tooltip.shared) ? lastData : data;\n                }\n            }\n            // if (data && this.triggerEvent(data, isFirst, this.getTooltipText(data)), this.findHeader(data)) {\n            //     this.findMouseValue(data, chart);\n            //     (<PointData[]>this.currentPoints).push(data);\n            //     data = null;\n            // } else if (data) {\n            //     extraPoints.push(data);\n            // }\n        }\n        if (chart.isBlazor && data) { // To avoid console error when we have empty chart with shared tooltip.\n            this.triggerBlazorSharedTooltip(argument, lastData, extraPoints, chart, isFirst);\n        }\n        if (this.currentPoints.length > 0) {\n            this.createTooltip(chart, isFirst, this.findSharedLocation(), this.currentPoints.length === 1 ? this.currentPoints[0].series.clipRect : null, null, this.findShapes(), this.findMarkerHeight(this.currentPoints[0]), chart.chartAxisLayoutPanel.seriesClipRect, extraPoints, this.chart.tooltip.template ? this.getTemplateText(data) : null, this.chart.tooltip.template ? argument.template : '');\n        }\n        else if (this.getElement(this.element.id + '_tooltip_path')) {\n            this.getElement(this.element.id + '_tooltip_path').setAttribute('d', '');\n        }\n    };\n    Tooltip.prototype.triggerBlazorSharedTooltip = function (argument, point, extraPoints, chart, isFirst) {\n        var _this = this;\n        var argsData = {\n            cancel: false, name: sharedTooltipRender, text: argument.text, headerText: argument.headerText,\n            textStyle: argument.textStyle,\n            data: argument.data\n        };\n        var blazorSharedTooltip = function (argsData) {\n            if (!argsData.cancel) {\n                _this.text = argsData.text;\n                _this.headerText = argsData.headerText;\n                _this.findMouseValue(point, _this.chart);\n                point = null;\n                _this.createTooltip(chart, isFirst, _this.findSharedLocation(), null, null, _this.findShapes(), _this.findMarkerHeight(_this.currentPoints[0]), chart.chartAxisLayoutPanel.seriesClipRect, extraPoints);\n            }\n            else {\n                extraPoints.push(point);\n            }\n        };\n        blazorSharedTooltip.bind(this, point, extraPoints);\n        this.chart.trigger(sharedTooltipRender, argsData, blazorSharedTooltip);\n    };\n    Tooltip.prototype.triggerSharedTooltip = function (point, isFirst, textCollection, headerText, extraPoints) {\n        var _this = this;\n        var argsData = {\n            cancel: false, name: tooltipRender, text: textCollection, headerText: headerText,\n            point: point.point, series: this.chart.isBlazor ? {} : point.series, textStyle: this.textStyle,\n            data: { pointX: point.point.x, pointY: point.point.y, seriesIndex: point.series.index, seriesName: point.series.name,\n                pointIndex: point.point.index, pointText: point.point.text }\n        };\n        var sharedTooltipSuccess = function (argsData) {\n            if (!argsData.cancel) {\n                if (point.series.type === 'BoxAndWhisker') {\n                    _this.removeText();\n                    isFirst = true;\n                }\n                _this.formattedText = _this.formattedText.concat(argsData.text);\n                _this.text = _this.formattedText;\n                _this.headerText = argsData.headerText;\n                _this.findMouseValue(point, _this.chart);\n                _this.currentPoints.push(point);\n                point = null;\n            }\n            else {\n                extraPoints.push(point);\n            }\n        };\n        sharedTooltipSuccess.bind(this, point, extraPoints);\n        this.chart.trigger(tooltipRender, argsData, sharedTooltipSuccess);\n        if (argsData.template) {\n            this.chart.tooltip.template = argsData.template;\n        }\n    };\n    Tooltip.prototype.findSharedLocation = function () {\n        var stockChart = this.chart.stockChart;\n        if (stockChart) {\n            if (this.text.length === 1) {\n                this.text.push('');\n            }\n            var toolbarHeight = stockChart.enablePeriodSelector ? stockChart.toolbarHeight : 0;\n            var element = document.getElementById(stockChart.element.id + '_ChartTitle');\n            var titleHeight = stockChart.title !== '' ? element.getBoundingClientRect().height + 10 : 0;\n            return new ChartLocation(this.chart.chartAxisLayoutPanel.seriesClipRect.x + 5, this.chart.chartAxisLayoutPanel.seriesClipRect.y + toolbarHeight + 5 + titleHeight);\n        }\n        else {\n            if (this.currentPoints.length > 1) {\n                return new ChartLocation(this.valueX, this.valueY);\n            }\n            else {\n                return this.getSymbolLocation(this.currentPoints[0]);\n            }\n        }\n    };\n    Tooltip.prototype.getBoxLocation = function (data) {\n        var location;\n        location = this.lierIndex > 3 ? data.point.symbolLocations[this.lierIndex - 4] :\n            {\n                x: data.point.regions[0].x + (data.point.regions[0].width / 2),\n                y: data.point.regions[0].y + (data.point.regions[0].height / 2)\n            };\n        return location;\n    };\n    Tooltip.prototype.parseTemplate = function (point, series, format, xAxis, yAxis) {\n        var val;\n        var textValue;\n        var xFormat;\n        var customLabelFormat;\n        var chart = this.chart;\n        for (var _i = 0, _a = Object.keys(point); _i < _a.length; _i++) {\n            var dataValue = _a[_i];\n            val = new RegExp('${point' + '.' + dataValue + '}', 'gm');\n            format = format.replace(val.source, this.formatPointValue(point, val.source === '${point.x}' ? xAxis : yAxis, dataValue, val.source === '${point.x}', (val.source === '${point.high}' ||\n                val.source === '${point.open}' ||\n                val.source === '${point.close}' ||\n                val.source === '${point.low}' ||\n                val.source === '${point.y}' ||\n                val.source === '${point.minimum}' ||\n                val.source === '${point.maximum}' ||\n                val.source === '${point.outliers}' ||\n                val.source === '${point.upperQuartile}' ||\n                val.source === '${point.lowerQuartile}' ||\n                val.source === '${point.median}')));\n        }\n        for (var _b = 0, _c = Object.keys(Object.getPrototypeOf(series)); _b < _c.length; _b++) {\n            var dataValue = _c[_b];\n            val = new RegExp('${series' + '.' + dataValue + '}', 'gm');\n            textValue = series[dataValue];\n            format = format.replace(val.source, textValue);\n        }\n        return format;\n    };\n    Tooltip.prototype.formatPointValue = function (point, axis, dataValue, isXPoint, isYPoint) {\n        var textValue;\n        var customLabelFormat;\n        var value;\n        if (axis.valueType !== 'Category' && isXPoint) {\n            customLabelFormat = axis.labelFormat && axis.labelFormat.match('{value}') !== null;\n            textValue = customLabelFormat ? axis.labelFormat.replace('{value}', axis.format(point[dataValue])) :\n                axis.format(point[dataValue]);\n        }\n        else if (isYPoint && !isNullOrUndefined(point[dataValue])) {\n            customLabelFormat = axis.labelFormat && axis.labelFormat.match('{value}') !== null;\n            value = dataValue === 'outliers' ? axis.format(point[dataValue][this.lierIndex - 4]) :\n                axis.format(point[dataValue]);\n            textValue = customLabelFormat ? axis.labelFormat.replace('{value}', value) : value;\n        }\n        else {\n            textValue = point[dataValue];\n        }\n        return textValue;\n    };\n    Tooltip.prototype.getFormat = function (chart, series) {\n        if (series.tooltipFormat) {\n            if (series.seriesType === 'XY' && series.category === 'Indicator') {\n                return this.getIndicatorTooltipFormat(series, chart, chart.tooltip.format);\n            }\n            return series.tooltipFormat;\n        }\n        if (!series.tooltipFormat && chart.tooltip.format) {\n            if (series.seriesType === 'XY' && series.category === 'Indicator') {\n                return this.getIndicatorTooltipFormat(series, chart, chart.tooltip.format);\n            }\n            return chart.tooltip.format;\n        }\n        var textX = (series.type === 'Histogram') ? '${point.minimum}' + '-' + '${point.maximum}' : '${point.x}';\n        var format = !chart.tooltip.shared ? textX : '${series.name}';\n        switch (series.seriesType) {\n            case 'XY':\n                if (series.category === 'Indicator') {\n                    this.getIndicatorTooltipFormat(series, chart, chart.tooltip.format);\n                }\n                return format + ' : ' + ((series.type === 'Bubble') ? '<b>${point.y}</b>  Size : <b>${point.size}</b>' :\n                    '<b>${point.y}</b>');\n            case 'HighLow':\n                return format + ('<br/>High : <b>${point.high}</b><br/>Low : <b>${point.low}</b>');\n            case 'HighLowOpenClose':\n                return format + ('<br/>High : <b>${point.high}</b><br/>Low : <b>${point.low}</b><br/>' +\n                    'Open : <b>${point.open}</b><br/>Close : <b>${point.close}</b>');\n            case 'BoxPlot': {\n                return format + '<br/>' + (this.lierIndex > 3 ? 'Outliers : <b>${point.outliers}</b>' :\n                    'Maximum : <b>${point.maximum}</b><br/>Q3 : <b>${point.upperQuartile}</b><br/>' +\n                        'Median : <b>${point.median}</b><br/>Q1 : <b>${point.lowerQuartile}</b><br/>Minimum : <b>${point.minimum}</b>');\n            }\n        }\n        return '';\n    };\n    Tooltip.prototype.getIndicatorTooltipFormat = function (series, chart, format) {\n        var toolTip;\n        var points = [];\n        if (series.seriesType === 'XY') {\n            toolTip = series.name + ' : <b>${point.y}</b>';\n        }\n        else {\n            toolTip = format;\n        }\n        return toolTip;\n    };\n    /*\n       * @hidden\n       */\n    Tooltip.prototype.removeHighlightedMarker = function (data) {\n        for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {\n            var item = data_1[_i];\n            removeElement(this.element.id + '_Series_' + item.series.index +\n                '_Point_' + item.point.index + '_Trackball');\n        }\n        if (this.chart.markerRender) {\n            this.chart.markerRender.removeHighlightedMarker();\n        }\n        this.previousPoints = [];\n    };\n    /**\n     * Get module name.\n     */\n    Tooltip.prototype.getModuleName = function () {\n        /**\n         * Returns the module name\n         */\n        return 'Tooltip';\n    };\n    /**\n     * To destroy the tooltip.\n     * @return {void}\n     * @private\n     */\n    Tooltip.prototype.destroy = function (chart) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    return Tooltip;\n}(BaseTooltip));\nexport { Tooltip };\n"]},"metadata":{},"sourceType":"module"}
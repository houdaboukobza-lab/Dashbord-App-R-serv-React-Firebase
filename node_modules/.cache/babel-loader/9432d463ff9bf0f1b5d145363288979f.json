{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/**\n * Chart legend\n */\n\n\nimport { Browser, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { LegendOptions, BaseLegend } from '../../common/legend/legend';\nimport { textTrim } from '../../common/utils/helper';\nimport { measureText } from '@syncfusion/ej2-svg-base';\nimport { legendRender } from '../../common/model/constants';\n/**\n * `Legend` module is used to render legend for the chart.\n */\n\nvar BulletChartLegend =\n/** @class */\nfunction (_super) {\n  __extends(BulletChartLegend, _super);\n\n  function BulletChartLegend(chart) {\n    var _this = _super.call(this, chart) || this;\n\n    _this.library = _this;\n\n    _this.addEventListener();\n\n    return _this;\n  }\n  /**\n   * Binding events for legend module.\n   */\n\n\n  BulletChartLegend.prototype.addEventListener = function () {\n    if (this.chart.isDestroyed) {\n      return;\n    }\n\n    this.chart.on('click', this.click, this);\n    this.chart.on(Browser.touchEndEvent, this.mouseEnd, this);\n    this.chart.on(Browser.touchMoveEvent, this.bulletMouseMove, this);\n  };\n  /**\n   * UnBinding events for bullet chart legend module.\n   */\n\n\n  BulletChartLegend.prototype.removeEventListener = function () {\n    if (this.chart.isDestroyed) {\n      return;\n    }\n\n    this.chart.off('click', this.click);\n    this.chart.off(Browser.touchEndEvent, this.mouseEnd);\n    this.chart.off(Browser.touchMoveEvent, this.bulletMouseMove);\n  };\n  /**\n   * To handle mosue move for legend module\n   */\n\n\n  BulletChartLegend.prototype.bulletMouseMove = function (e) {\n    if (this.chart.legendSettings.visible && this.chart.isTouch) {\n      this.move(e);\n    }\n  };\n  /**\n   * To handle mosue end for legend module\n   */\n\n\n  BulletChartLegend.prototype.mouseEnd = function (e) {\n    if (this.chart.legendSettings.visible && this.chart.isTouch) {\n      this.move(e);\n    }\n  };\n  /**\n   * Get the legend options.\n   * @return {void}\n   * @private\n   */\n\n\n  BulletChartLegend.prototype.getLegendOptions = function (visibleRangeCollection, chart) {\n    this.legendCollections = [];\n    var fill;\n    var count = 0;\n    var key = 'color';\n    var bulletChart = this.chart;\n\n    for (var _i = 0, visibleRangeCollection_1 = visibleRangeCollection; _i < visibleRangeCollection_1.length; _i++) {\n      var range = visibleRangeCollection_1[_i];\n\n      if (range.name !== null) {\n        fill = range.color ? range.color : bulletChart.themeStyle.rangeStrokes[range.index][key];\n        this.legendCollections.push(new LegendOptions(range.name, fill, range.shape, this.chart.legendSettings.visible, null, range.legendImageUrl, null, false, range.index, null));\n        count++;\n      }\n    }\n\n    if (bulletChart.dataSource !== null && bulletChart.valueField !== '') {\n      fill = bulletChart.valueFill || 'black';\n      var shape = bulletChart.orientation === 'Vertical' ? 'TargetRect' : 'ActualRect';\n      this.legendCollections.push(new LegendOptions('Actual', fill, shape, this.chart.legendSettings.visible, null, '', null, false, count++, null));\n    }\n\n    if (bulletChart.dataSource !== null && bulletChart.targetField !== '') {\n      fill = bulletChart.targetColor || 'black';\n      var shape = bulletChart.orientation === 'Vertical' ? 'ActualRect' : 'TargetRect';\n\n      for (var i = 0; i < Object.keys(bulletChart.dataSource).length; i++) {\n        if (isNullOrUndefined(bulletChart.dataSource[i][bulletChart.targetField].length) || bulletChart.dataSource[i][bulletChart.targetField].length === 1) {\n          while (i === 0) {\n            this.legendCollections.push(new LegendOptions('Target', fill, shape, this.chart.legendSettings.visible, null, '', null, false, count++, null));\n            break;\n          }\n        } else {\n          var targetTypes = bulletChart.targetTypes;\n          var targetType = [];\n          var targetTypeLength = targetTypes.length;\n\n          while (i === 0) {\n            for (var i_1 = 0; i_1 < targetTypeLength; i_1++) {\n              targetType[i_1] = targetTypes[i_1 % targetTypeLength];\n              targetType[i_1] = targetType[i_1] === 'Rect' ? bulletChart.orientation === 'Vertical' ? 'ActualRect' : 'TargetRect' : targetType[i_1];\n              targetType[i_1] = targetType[i_1] === 'Cross' ? 'Multiply' : targetType[i_1];\n              this.legendCollections.push(new LegendOptions('Target_' + i_1, fill, targetType[i_1], this.chart.legendSettings.visible, null, '', null, false, count++, null));\n            }\n\n            break;\n          }\n        }\n      }\n    }\n  };\n  /** @private */\n\n\n  BulletChartLegend.prototype.getLegendBounds = function (availableSize, bulletLegendBounds, legend) {\n    var extraWidth = 0;\n    var padding = legend.padding;\n    var extraHeight = 0;\n\n    if (!this.isVertical) {\n      extraHeight = !legend.height ? availableSize.height / 100 * 5 : 0;\n    } else {\n      extraWidth = !legend.width ? availableSize.width / 100 * 5 : 0;\n    }\n\n    bulletLegendBounds.height += extraHeight;\n    bulletLegendBounds.width += extraWidth;\n    var maximumWidth = 0;\n    var legendRowWidth = 0;\n    var legendRowCount = 0;\n    var legendWidth = 0;\n    var columnHeight = 0;\n    var shapeHeight = legend.shapeHeight;\n    var shapeWidth = legend.shapeWidth;\n    var shapePadding = legend.shapePadding;\n    var legendEventArgs;\n    this.maxItemHeight = Math.max(measureText('MeasureText', legend.textStyle).height, legend.shapeHeight);\n    var render = false;\n\n    for (var _i = 0, _a = this.legendCollections; _i < _a.length; _i++) {\n      var bulletLegendOption = _a[_i];\n      legendEventArgs = {\n        fill: bulletLegendOption.fill,\n        text: bulletLegendOption.text,\n        shape: bulletLegendOption.shape,\n        name: legendRender,\n        cancel: false\n      };\n      this.chart.trigger(legendRender, legendEventArgs);\n      bulletLegendOption.render = !legendEventArgs.cancel;\n      bulletLegendOption.text = legendEventArgs.text;\n      bulletLegendOption.fill = legendEventArgs.fill;\n      bulletLegendOption.shape = legendEventArgs.shape;\n      bulletLegendOption.textSize = measureText(bulletLegendOption.text, legend.textStyle);\n\n      if (bulletLegendOption.render && bulletLegendOption.text !== '') {\n        render = true;\n        legendWidth = shapeWidth + shapePadding + bulletLegendOption.textSize.width + padding;\n        legendRowWidth = legendRowWidth + legendWidth;\n\n        if (bulletLegendBounds.width < padding + legendRowWidth || this.isVertical) {\n          maximumWidth = Math.max(maximumWidth, legendRowWidth + padding - (this.isVertical ? 0 : legendWidth));\n\n          if (legendRowCount === 0 && legendWidth !== legendRowWidth) {\n            legendRowCount = 1;\n          }\n\n          legendRowWidth = this.isVertical ? 0 : legendWidth;\n          legendRowCount++;\n          columnHeight = legendRowCount * (this.maxItemHeight + padding) + padding;\n        }\n      }\n    }\n\n    columnHeight = Math.max(columnHeight, this.maxItemHeight + padding + padding);\n    this.isPaging = bulletLegendBounds.height < columnHeight;\n    this.totalPages = legendRowCount;\n\n    if (render) {\n      this.setBounds(Math.max(legendRowWidth + padding, maximumWidth), columnHeight, legend, bulletLegendBounds);\n    } else {\n      this.setBounds(0, 0, legend, bulletLegendBounds);\n    }\n  };\n  /** @private */\n\n\n  BulletChartLegend.prototype.getRenderPoint = function (bulletLegendOption, start, textPadding, prevLegend, rect, count, firstLegend) {\n    var previousBound = prevLegend.location.x + textPadding + prevLegend.textSize.width;\n    var padding = this.legend.padding;\n\n    if (previousBound + (bulletLegendOption.textSize.width + textPadding) > rect.x + rect.width + this.legend.shapeWidth / 2 || this.isVertical) {\n      bulletLegendOption.location.x = start.x;\n      bulletLegendOption.location.y = count === firstLegend ? prevLegend.location.y : prevLegend.location.y + this.maxItemHeight + padding;\n    } else {\n      bulletLegendOption.location.x = count === firstLegend ? prevLegend.location.x : previousBound;\n      bulletLegendOption.location.y = prevLegend.location.y;\n    }\n\n    var availwidth = this.legendBounds.x + this.legendBounds.width - (bulletLegendOption.location.x + textPadding - this.legend.shapeWidth / 2);\n    bulletLegendOption.text = textTrim(+availwidth.toFixed(4), bulletLegendOption.text, this.legend.textStyle);\n  };\n  /**\n   * To show the tooltip for the trimmed text in legend.\n   * @return {void}\n   */\n\n\n  BulletChartLegend.prototype.click = function (event) {\n    var symbolTargetId = event.target.id;\n\n    if (symbolTargetId.indexOf(this.legendID + '_pagedown') > -1) {\n      this.changePage(event, false);\n    } else if (symbolTargetId.indexOf(this.legendID + '_pageup') > -1) {\n      this.changePage(event, true);\n    }\n  };\n  /**\n   * Get module name\n   */\n\n\n  BulletChartLegend.prototype.getModuleName = function () {\n    return 'BulletChartLegend';\n  };\n  /**\n   * To destroy the Legend.\n   * @return {void}\n   * @private\n   */\n\n\n  BulletChartLegend.prototype.destroy = function (chart) {\n    /**\n     * Destroy method calling here\n     */\n    this.removeEventListener();\n  };\n\n  return BulletChartLegend;\n}(BaseLegend);\n\nexport { BulletChartLegend };","map":{"version":3,"sources":["C:/Users/Power GSM/Desktop/React-Fito-v1.0-9-April-2021V/React-Fito-v1.0-9-April-2021V/react-fito/node_modules/@syncfusion/ej2-charts/src/bullet-chart/legend/legend.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","Browser","isNullOrUndefined","LegendOptions","BaseLegend","textTrim","measureText","legendRender","BulletChartLegend","_super","chart","_this","call","library","addEventListener","isDestroyed","on","click","touchEndEvent","mouseEnd","touchMoveEvent","bulletMouseMove","removeEventListener","off","e","legendSettings","visible","isTouch","move","getLegendOptions","visibleRangeCollection","legendCollections","fill","count","key","bulletChart","_i","visibleRangeCollection_1","length","range","name","color","themeStyle","rangeStrokes","index","push","shape","legendImageUrl","dataSource","valueField","valueFill","orientation","targetField","targetColor","i","keys","targetTypes","targetType","targetTypeLength","i_1","getLegendBounds","availableSize","bulletLegendBounds","legend","extraWidth","padding","extraHeight","isVertical","height","width","maximumWidth","legendRowWidth","legendRowCount","legendWidth","columnHeight","shapeHeight","shapeWidth","shapePadding","legendEventArgs","maxItemHeight","Math","max","textStyle","render","_a","bulletLegendOption","text","cancel","trigger","textSize","isPaging","totalPages","setBounds","getRenderPoint","start","textPadding","prevLegend","rect","firstLegend","previousBound","location","x","y","availwidth","legendBounds","toFixed","event","symbolTargetId","target","id","indexOf","legendID","changePage","getModuleName","destroy"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * Chart legend\n */\nimport { Browser, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { LegendOptions, BaseLegend } from '../../common/legend/legend';\nimport { textTrim } from '../../common/utils/helper';\nimport { measureText } from '@syncfusion/ej2-svg-base';\nimport { legendRender } from '../../common/model/constants';\n/**\n * `Legend` module is used to render legend for the chart.\n */\nvar BulletChartLegend = /** @class */ (function (_super) {\n    __extends(BulletChartLegend, _super);\n    function BulletChartLegend(chart) {\n        var _this = _super.call(this, chart) || this;\n        _this.library = _this;\n        _this.addEventListener();\n        return _this;\n    }\n    /**\n     * Binding events for legend module.\n     */\n    BulletChartLegend.prototype.addEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        this.chart.on('click', this.click, this);\n        this.chart.on(Browser.touchEndEvent, this.mouseEnd, this);\n        this.chart.on(Browser.touchMoveEvent, this.bulletMouseMove, this);\n    };\n    /**\n     * UnBinding events for bullet chart legend module.\n     */\n    BulletChartLegend.prototype.removeEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        this.chart.off('click', this.click);\n        this.chart.off(Browser.touchEndEvent, this.mouseEnd);\n        this.chart.off(Browser.touchMoveEvent, this.bulletMouseMove);\n    };\n    /**\n     * To handle mosue move for legend module\n     */\n    BulletChartLegend.prototype.bulletMouseMove = function (e) {\n        if (this.chart.legendSettings.visible && this.chart.isTouch) {\n            this.move(e);\n        }\n    };\n    /**\n     * To handle mosue end for legend module\n     */\n    BulletChartLegend.prototype.mouseEnd = function (e) {\n        if (this.chart.legendSettings.visible && this.chart.isTouch) {\n            this.move(e);\n        }\n    };\n    /**\n     * Get the legend options.\n     * @return {void}\n     * @private\n     */\n    BulletChartLegend.prototype.getLegendOptions = function (visibleRangeCollection, chart) {\n        this.legendCollections = [];\n        var fill;\n        var count = 0;\n        var key = 'color';\n        var bulletChart = this.chart;\n        for (var _i = 0, visibleRangeCollection_1 = visibleRangeCollection; _i < visibleRangeCollection_1.length; _i++) {\n            var range = visibleRangeCollection_1[_i];\n            if (range.name !== null) {\n                fill = range.color ? range.color : bulletChart.themeStyle.rangeStrokes[range.index][key];\n                this.legendCollections.push(new LegendOptions(range.name, fill, range.shape, this.chart.legendSettings.visible, null, range.legendImageUrl, null, false, range.index, null));\n                count++;\n            }\n        }\n        if (bulletChart.dataSource !== null && bulletChart.valueField !== '') {\n            fill = bulletChart.valueFill || 'black';\n            var shape = bulletChart.orientation === 'Vertical' ? 'TargetRect' : 'ActualRect';\n            this.legendCollections.push(new LegendOptions('Actual', fill, shape, this.chart.legendSettings.visible, null, '', null, false, count++, null));\n        }\n        if (bulletChart.dataSource !== null && bulletChart.targetField !== '') {\n            fill = bulletChart.targetColor || 'black';\n            var shape = bulletChart.orientation === 'Vertical' ? 'ActualRect' : 'TargetRect';\n            for (var i = 0; i < Object.keys(bulletChart.dataSource).length; i++) {\n                if (isNullOrUndefined(bulletChart.dataSource[i][bulletChart.targetField].length)\n                    || bulletChart.dataSource[i][bulletChart.targetField].length === 1) {\n                    while (i === 0) {\n                        this.legendCollections.push(new LegendOptions('Target', fill, shape, this.chart.legendSettings.visible, null, '', null, false, count++, null));\n                        break;\n                    }\n                }\n                else {\n                    var targetTypes = bulletChart.targetTypes;\n                    var targetType = [];\n                    var targetTypeLength = targetTypes.length;\n                    while (i === 0) {\n                        for (var i_1 = 0; i_1 < targetTypeLength; i_1++) {\n                            targetType[i_1] = targetTypes[i_1 % targetTypeLength];\n                            targetType[i_1] = (targetType[i_1] === 'Rect') ? bulletChart.orientation === 'Vertical' ?\n                                'ActualRect' : 'TargetRect' : (targetType[i_1]);\n                            targetType[i_1] = (targetType[i_1] === 'Cross') ? 'Multiply' : targetType[i_1];\n                            this.legendCollections.push(new LegendOptions('Target_' + i_1, fill, targetType[i_1], this.chart.legendSettings.visible, null, '', null, false, count++, null));\n                        }\n                        break;\n                    }\n                }\n            }\n        }\n    };\n    /** @private */\n    BulletChartLegend.prototype.getLegendBounds = function (availableSize, bulletLegendBounds, legend) {\n        var extraWidth = 0;\n        var padding = legend.padding;\n        var extraHeight = 0;\n        if (!this.isVertical) {\n            extraHeight = !legend.height ? ((availableSize.height / 100) * 5) : 0;\n        }\n        else {\n            extraWidth = !legend.width ? ((availableSize.width / 100) * 5) : 0;\n        }\n        bulletLegendBounds.height += extraHeight;\n        bulletLegendBounds.width += extraWidth;\n        var maximumWidth = 0;\n        var legendRowWidth = 0;\n        var legendRowCount = 0;\n        var legendWidth = 0;\n        var columnHeight = 0;\n        var shapeHeight = legend.shapeHeight;\n        var shapeWidth = legend.shapeWidth;\n        var shapePadding = legend.shapePadding;\n        var legendEventArgs;\n        this.maxItemHeight = Math.max(measureText('MeasureText', legend.textStyle).height, legend.shapeHeight);\n        var render = false;\n        for (var _i = 0, _a = this.legendCollections; _i < _a.length; _i++) {\n            var bulletLegendOption = _a[_i];\n            legendEventArgs = {\n                fill: bulletLegendOption.fill, text: bulletLegendOption.text, shape: bulletLegendOption.shape,\n                name: legendRender, cancel: false\n            };\n            this.chart.trigger(legendRender, legendEventArgs);\n            bulletLegendOption.render = !legendEventArgs.cancel;\n            bulletLegendOption.text = legendEventArgs.text;\n            bulletLegendOption.fill = legendEventArgs.fill;\n            bulletLegendOption.shape = legendEventArgs.shape;\n            bulletLegendOption.textSize = measureText(bulletLegendOption.text, legend.textStyle);\n            if (bulletLegendOption.render && bulletLegendOption.text !== '') {\n                render = true;\n                legendWidth = shapeWidth + shapePadding + bulletLegendOption.textSize.width + padding;\n                legendRowWidth = legendRowWidth + legendWidth;\n                if (bulletLegendBounds.width < (padding + legendRowWidth) || this.isVertical) {\n                    maximumWidth = Math.max(maximumWidth, (legendRowWidth + padding - (this.isVertical ? 0 : legendWidth)));\n                    if (legendRowCount === 0 && (legendWidth !== legendRowWidth)) {\n                        legendRowCount = 1;\n                    }\n                    legendRowWidth = this.isVertical ? 0 : legendWidth;\n                    legendRowCount++;\n                    columnHeight = (legendRowCount * (this.maxItemHeight + padding)) + padding;\n                }\n            }\n        }\n        columnHeight = Math.max(columnHeight, (this.maxItemHeight + padding) + padding);\n        this.isPaging = bulletLegendBounds.height < columnHeight;\n        this.totalPages = legendRowCount;\n        if (render) {\n            this.setBounds(Math.max((legendRowWidth + padding), maximumWidth), columnHeight, legend, bulletLegendBounds);\n        }\n        else {\n            this.setBounds(0, 0, legend, bulletLegendBounds);\n        }\n    };\n    /** @private */\n    BulletChartLegend.prototype.getRenderPoint = function (bulletLegendOption, start, textPadding, prevLegend, rect, count, firstLegend) {\n        var previousBound = (prevLegend.location.x + textPadding + prevLegend.textSize.width);\n        var padding = this.legend.padding;\n        if ((previousBound + (bulletLegendOption.textSize.width + textPadding)) > (rect.x + rect.width + this.legend.shapeWidth / 2) ||\n            this.isVertical) {\n            bulletLegendOption.location.x = start.x;\n            bulletLegendOption.location.y = (count === firstLegend) ? prevLegend.location.y :\n                prevLegend.location.y + this.maxItemHeight + padding;\n        }\n        else {\n            bulletLegendOption.location.x = (count === firstLegend) ? prevLegend.location.x : previousBound;\n            bulletLegendOption.location.y = prevLegend.location.y;\n        }\n        var availwidth = (this.legendBounds.x + this.legendBounds.width) - (bulletLegendOption.location.x +\n            textPadding - this.legend.shapeWidth / 2);\n        bulletLegendOption.text = textTrim(+availwidth.toFixed(4), bulletLegendOption.text, this.legend.textStyle);\n    };\n    /**\n     * To show the tooltip for the trimmed text in legend.\n     * @return {void}\n     */\n    BulletChartLegend.prototype.click = function (event) {\n        var symbolTargetId = event.target.id;\n        if (symbolTargetId.indexOf(this.legendID + '_pagedown') > -1) {\n            this.changePage(event, false);\n        }\n        else if (symbolTargetId.indexOf(this.legendID + '_pageup') > -1) {\n            this.changePage(event, true);\n        }\n    };\n    /**\n     * Get module name\n     */\n    BulletChartLegend.prototype.getModuleName = function () {\n        return 'BulletChartLegend';\n    };\n    /**\n     * To destroy the Legend.\n     * @return {void}\n     * @private\n     */\n    BulletChartLegend.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n        this.removeEventListener();\n    };\n    return BulletChartLegend;\n}(BaseLegend));\nexport { BulletChartLegend };\n"]},"metadata":{},"sourceType":"module"}
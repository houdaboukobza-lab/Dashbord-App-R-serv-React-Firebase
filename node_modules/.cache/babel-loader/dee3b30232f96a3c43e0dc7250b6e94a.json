{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar CX = require(\"classnames\");\n\nvar DOMUtil_1 = require(\"../utils/DOMUtil\");\n\nvar Backdrop_1 = require(\"./Backdrop\");\n\nvar Picker =\n/** @class */\nfunction (_super) {\n  __extends(Picker, _super);\n\n  function Picker(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.state = {\n      show: false,\n      position: {\n        left: '',\n        top: ''\n      }\n    };\n\n    _this.showContents = function () {\n      var _a = _this.props,\n          portal = _a.portal,\n          disabled = _a.disabled,\n          readOnly = _a.readOnly;\n      if (disabled || readOnly) return;\n\n      _this.setState({\n        show: true\n      }, function () {\n        if (!portal) {\n          _this.setPosition();\n        }\n      });\n    };\n\n    _this.hideContents = function () {\n      _this.setState({\n        show: false\n      });\n    };\n\n    _this.setPosition = function () {\n      var direction = _this.props.direction;\n\n      _this.setState({\n        position: DOMUtil_1.getDivPosition(_this.triggerRef.current, direction, DOMUtil_1.getDomHeight(_this.contentsRef.current))\n      });\n    };\n\n    _this.triggerRef = React.createRef();\n    _this.contentsRef = React.createRef();\n    return _this;\n  }\n\n  Picker.prototype.render = function () {\n    var _a = this.props,\n        portal = _a.portal,\n        className = _a.className,\n        renderTrigger = _a.renderTrigger,\n        renderContents = _a.renderContents;\n    var _b = this.state,\n        show = _b.show,\n        position = _b.position;\n    var actions = {\n      show: this.showContents,\n      hide: this.hideContents\n    };\n    return React.createElement(\"div\", {\n      className: \"picker\"\n    }, React.createElement(\"div\", {\n      className: \"picker__trigger\",\n      onClick: this.showContents,\n      ref: this.triggerRef\n    }, renderTrigger({\n      actions: actions\n    })), show && React.createElement(\"div\", {\n      className: CX('picker__container', {\n        portal: portal,\n        className: className\n      }),\n      role: \"dialog\",\n      \"aria-modal\": \"true\",\n      style: position,\n      ref: this.contentsRef\n    }, renderContents({\n      actions: actions\n    })), React.createElement(Backdrop_1.default, {\n      show: show,\n      invert: portal,\n      onClick: this.hideContents\n    }));\n  };\n\n  return Picker;\n}(React.Component);\n\nexports.default = Picker;","map":{"version":3,"sources":["../../src/components/Picker.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAA,KAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AACA,IAAA,EAAA,GAAA,OAAA,CAAA,YAAA,CAAA;;AAEA,IAAA,SAAA,GAAA,OAAA,CAAA,kBAAA,CAAA;;AACA,IAAA,UAAA,GAAA,OAAA,CAAA,YAAA,CAAA;;AA8BA,IAAA,MAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAAqB,EAAA,SAAA,CAAA,MAAA,EAAA,MAAA,CAAA;;AAYnB,WAAA,MAAA,CAAY,KAAZ,EAAwB;AAAxB,QAAA,KAAA,GACE,MAAA,CAAA,IAAA,CAAA,IAAA,EAAM,KAAN,KAAY,IADd;;AAXO,IAAA,KAAA,CAAA,KAAA,GAAQ;AACb,MAAA,IAAI,EAAE,KADO;AAEb,MAAA,QAAQ,EAAE;AACR,QAAA,IAAI,EAAE,EADE;AAER,QAAA,GAAG,EAAE;AAFG;AAFG,KAAR;;AAiBA,IAAA,KAAA,CAAA,YAAA,GAAe,YAAA;AACd,UAAA,EAAA,GAAA,KAAA,CAAA,KAAA;AAAA,UAAE,MAAA,GAAA,EAAA,CAAA,MAAF;AAAA,UAAU,QAAA,GAAA,EAAA,CAAA,QAAV;AAAA,UAAoB,QAAA,GAAA,EAAA,CAAA,QAApB;AACN,UAAI,QAAQ,IAAI,QAAhB,EAA0B;;AAE1B,MAAA,KAAI,CAAC,QAAL,CACE;AACE,QAAA,IAAI,EAAE;AADR,OADF,EAIE,YAAA;AACE,YAAI,CAAC,MAAL,EAAa;AACX,UAAA,KAAI,CAAC,WAAL;AACD;AACF,OARH;AAUD,KAdM;;AAgBA,IAAA,KAAA,CAAA,YAAA,GAAe,YAAA;AACpB,MAAA,KAAI,CAAC,QAAL,CAAc;AACZ,QAAA,IAAI,EAAE;AADM,OAAd;AAGD,KAJM;;AAMA,IAAA,KAAA,CAAA,WAAA,GAAc,YAAA;AACX,UAAA,SAAA,GAAA,KAAA,CAAA,KAAA,CAAA,SAAA;;AACR,MAAA,KAAI,CAAC,QAAL,CAAc;AACZ,QAAA,QAAQ,EAAE,SAAA,CAAA,cAAA,CACR,KAAI,CAAC,UAAL,CAAgB,OADR,EAER,SAFQ,EAGR,SAAA,CAAA,YAAA,CAAa,KAAI,CAAC,WAAL,CAAiB,OAA9B,CAHQ;AADE,OAAd;AAOD,KATM;;AA1BL,IAAA,KAAI,CAAC,UAAL,GAAkB,KAAK,CAAC,SAAN,EAAlB;AACA,IAAA,KAAI,CAAC,WAAL,GAAmB,KAAK,CAAC,SAAN,EAAnB;;AACD;;AAmCM,EAAA,MAAA,CAAA,SAAA,CAAA,MAAA,GAAP,YAAA;AACQ,QAAA,EAAA,GAAA,KAAA,KAAA;AAAA,QAAE,MAAA,GAAA,EAAA,CAAA,MAAF;AAAA,QAAU,SAAA,GAAA,EAAA,CAAA,SAAV;AAAA,QAAqB,aAAA,GAAA,EAAA,CAAA,aAArB;AAAA,QAAoC,cAAA,GAAA,EAAA,CAAA,cAApC;AACA,QAAA,EAAA,GAAA,KAAA,KAAA;AAAA,QAAE,IAAA,GAAA,EAAA,CAAA,IAAF;AAAA,QAAQ,QAAA,GAAA,EAAA,CAAA,QAAR;AACN,QAAM,OAAO,GAAG;AACd,MAAA,IAAI,EAAE,KAAK,YADG;AAEd,MAAA,IAAI,EAAE,KAAK;AAFG,KAAhB;AAKA,WACE,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,MAAA,SAAS,EAAC;AAAf,KAAA,EACE,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAiC,MAAA,OAAO,EAAE,KAAK,YAA/C;AAA6D,MAAA,GAAG,EAAE,KAAK;AAAvE,KAAA,EACG,aAAa,CAAC;AAAE,MAAA,OAAO,EAAA;AAAT,KAAD,CADhB,CADF,EAIG,IAAI,IACH,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AACE,MAAA,SAAS,EAAE,EAAE,CAAC,mBAAD,EAAsB;AAAE,QAAA,MAAM,EAAA,MAAR;AAAU,QAAA,SAAS,EAAA;AAAnB,OAAtB,CADf;AAEE,MAAA,IAAI,EAAC,QAFP;AAEe,oBACF,MAHb;AAIE,MAAA,KAAK,EAAE,QAJT;AAKE,MAAA,GAAG,EAAE,KAAK;AALZ,KAAA,EAOG,cAAc,CAAC;AAAE,MAAA,OAAO,EAAA;AAAT,KAAD,CAPjB,CALJ,EAeE,KAAA,CAAA,aAAA,CAAC,UAAA,CAAA,OAAD,EAAS;AAAC,MAAA,IAAI,EAAE,IAAP;AAAa,MAAA,MAAM,EAAE,MAArB;AAA6B,MAAA,OAAO,EAAE,KAAK;AAA3C,KAAT,CAfF,CADF;AAmBD,GA3BM;;AA4BT,SAAA,MAAA;AAAC,CA/ED,CAAqB,KAAK,CAAC,SAA3B,CAAA;;AAiFA,OAAA,CAAA,OAAA,GAAe,MAAf","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar CX = require(\"classnames\");\nvar DOMUtil_1 = require(\"../utils/DOMUtil\");\nvar Backdrop_1 = require(\"./Backdrop\");\nvar Picker = /** @class */ (function (_super) {\n    __extends(Picker, _super);\n    function Picker(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = {\n            show: false,\n            position: {\n                left: '',\n                top: '',\n            },\n        };\n        _this.showContents = function () {\n            var _a = _this.props, portal = _a.portal, disabled = _a.disabled, readOnly = _a.readOnly;\n            if (disabled || readOnly)\n                return;\n            _this.setState({\n                show: true,\n            }, function () {\n                if (!portal) {\n                    _this.setPosition();\n                }\n            });\n        };\n        _this.hideContents = function () {\n            _this.setState({\n                show: false,\n            });\n        };\n        _this.setPosition = function () {\n            var direction = _this.props.direction;\n            _this.setState({\n                position: DOMUtil_1.getDivPosition(_this.triggerRef.current, direction, DOMUtil_1.getDomHeight(_this.contentsRef.current)),\n            });\n        };\n        _this.triggerRef = React.createRef();\n        _this.contentsRef = React.createRef();\n        return _this;\n    }\n    Picker.prototype.render = function () {\n        var _a = this.props, portal = _a.portal, className = _a.className, renderTrigger = _a.renderTrigger, renderContents = _a.renderContents;\n        var _b = this.state, show = _b.show, position = _b.position;\n        var actions = {\n            show: this.showContents,\n            hide: this.hideContents,\n        };\n        return (React.createElement(\"div\", { className: \"picker\" },\n            React.createElement(\"div\", { className: \"picker__trigger\", onClick: this.showContents, ref: this.triggerRef }, renderTrigger({ actions: actions })),\n            show && (React.createElement(\"div\", { className: CX('picker__container', { portal: portal, className: className }), role: \"dialog\", \"aria-modal\": \"true\", style: position, ref: this.contentsRef }, renderContents({ actions: actions }))),\n            React.createElement(Backdrop_1.default, { show: show, invert: portal, onClick: this.hideContents })));\n    };\n    return Picker;\n}(React.Component));\nexports.default = Picker;\n//# sourceMappingURL=Picker.js.map"]},"metadata":{},"sourceType":"script"}